import{d as me,a as W,b as h,s as i,f as b}from"../chunks/5jrULABA.js";import{S as ge,T,U as ue,V as _e,$ as X,Y as f,W as y,X as he,_ as a,Z as l,a0 as s,d as e,a4 as Y}from"../chunks/Bu7XKhG-.js";import{i as V}from"../chunks/64S6HLbC.js";import{e as Z,i as q}from"../chunks/D91HFo5I.js";import{t as fe,f as ye}from"../chunks/BufHwZ1v.js";import{s as z,t as be,a as xe}from"../chunks/tnJ21aC2.js";import{s as $e}from"../chunks/DvixMhaI.js";import{s as $}from"../chunks/jfaHFQEH.js";import{s as ke,a as je}from"../chunks/Cvp8QKtV.js";import{g as we}from"../chunks/BAFRKenw.js";import{a as Le,b as Ce}from"../chunks/BeKFXwpI.js";import{a as G}from"../chunks/BXvIZ4AA.js";var Ee=b('<button><span class="lvl-emoji svelte-v8t122"> </span> <span class="lvl-num svelte-v8t122"> </span></button>'),Se=b('<div class="thermo-fill svelte-v8t122"></div>'),De=b('<div class="state-card svelte-v8t122"><span class="state-emoji svelte-v8t122"> </span> <h2 class="svelte-v8t122"> </h2> <div class="strategies svelte-v8t122"><h3 class="svelte-v8t122"> </h3> <p class="svelte-v8t122"> </p></div></div>'),Pe=b('<div class="history-dot svelte-v8t122"><span class="dot-emoji svelte-v8t122"> </span> <span class="dot-time svelte-v8t122"> </span></div>'),Ae=b('<div class="history svelte-v8t122"><h3 class="svelte-v8t122"> </h3> <div class="history-row svelte-v8t122"></div></div>'),Be=b('<div class="energy-page svelte-v8t122"><header class="app-header svelte-v8t122"><button class="back-btn svelte-v8t122"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M15 18l-6-6 6-6"></path></svg></button> <h1 class="svelte-v8t122"> </h1></header> <div class="content svelte-v8t122"><p class="instruction svelte-v8t122"> </p> <div class="meter-area svelte-v8t122"><div class="thermometer svelte-v8t122"><div class="thermo-track svelte-v8t122"></div> <!></div> <!></div> <!></div> <footer class="credit svelte-v8t122"> </footer></div>');function ze(J,K){ge(K,!0);const c=()=>je(be,"$t",N),[N,O]=ke(),k=[{level:1,emoji:"ðŸ˜´",color:"#3498DB",label:"energy.level.1",strategies:"energy.strat.1"},{level:2,emoji:"ðŸ˜Š",color:"#2ECC71",label:"energy.level.2",strategies:"energy.strat.2"},{level:3,emoji:"ðŸ˜„",color:"#F1C40F",label:"energy.level.3",strategies:"energy.strat.3"},{level:4,emoji:"ðŸ˜¤",color:"#E67E22",label:"energy.level.4",strategies:"energy.strat.4"},{level:5,emoji:"ðŸ¤¯",color:"#E74C3C",label:"energy.level.5",strategies:"energy.strat.5"}];let d=T(null),p=T(ue([])),H=T(!1);_e(()=>{Q()});async function Q(){const t=X(G);if(t){const r=await Le(t,"energy-meter");r&&(f(p,r.history||[],!0),f(d,r.currentLevel||null,!0))}}async function R(){const t=X(G);t&&await Ce(t,"energy-meter",{history:e(p),currentLevel:e(d)})}function ee(t){f(d,t,!0),f(H,!0);const r=k[t-1];xe(`${c()(r.label)}`),f(p,[...e(p),{level:t,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}],!0),e(p).length>20&&f(p,e(p).slice(-20),!0),R()}function C(t){return k[t-1]||k[2]}function te(t){return t/5*100}var E=Be(),S=a(E),D=a(S),M=l(D,2),re=a(M,!0);s(M),s(S);var j=l(S,2),P=a(j),se=a(P,!0);s(P);var A=l(P,2),B=a(A),F=a(B);Z(F,21,()=>k.slice().reverse(),q,(t,r)=>{var v=Ee();let o;var u=a(v),n=a(u,!0);s(u);var m=l(u,2),_=a(m,!0);s(m),s(v),y(()=>{o=$e(v,1,"thermo-level svelte-v8t122",null,o,{active:e(d)===e(r).level}),$(v,`--lvl-color: ${e(r).color??""}`),i(n,e(r).emoji),i(_,e(r).level)}),W("click",v,()=>ee(e(r).level)),h(t,v)}),s(F);var ae=l(F,2);{var ve=t=>{var r=Se();y((v,o)=>$(r,`height: ${v??""}%; background: ${o??""}`),[()=>te(e(d)),()=>C(e(d)).color]),h(t,r)};V(ae,t=>{e(d)&&t(ve)})}s(B);var le=l(B,2);{var oe=t=>{const r=Y(()=>C(e(d)));var v=De(),o=a(v),u=a(o,!0);s(o);var n=l(o,2),m=a(n,!0);s(n);var _=l(n,2),g=a(_),x=a(g,!0);s(g);var w=l(g,2),L=a(w,!0);s(w),s(_),s(v),y((I,de,pe)=>{$(v,`border-color: ${e(r).color??""}`),i(u,e(r).emoji),$(n,`color: ${e(r).color??""}`),i(m,I),i(x,de),i(L,pe)},[()=>c()(e(r).label),()=>c()("energy.strategies"),()=>c()(e(r).strategies)]),h(t,v)};V(le,t=>{e(d)&&e(H)&&t(oe)})}s(A);var ie=l(A,2);{var ne=t=>{var r=Ae(),v=a(r),o=a(v,!0);s(v);var u=l(v,2);Z(u,21,()=>e(p),q,(n,m)=>{const _=Y(()=>C(e(m).level));var g=Pe(),x=a(g),w=a(x,!0);s(x);var L=l(x,2),I=a(L,!0);s(L),s(g),y(()=>{$(g,`background: ${e(_).color??""}`),z(g,"title",`${e(m).time??""}: ${e(m).level??""}`),i(w,e(_).emoji),i(I,e(m).time)}),h(n,g)}),s(u),s(r),y(n=>i(o,n),[()=>c()("energy.today")]),h(t,r)};V(ie,t=>{e(p).length>0&&t(ne)})}s(j);var U=l(j,2),ce=a(U,!0);s(U),s(E),y((t,r,v,o)=>{z(D,"aria-label",t),i(re,r),i(se,v),i(ce,o)},[()=>c()("app.back"),()=>c()("energy.title"),()=>c()("energy.how_feeling"),()=>c()("energy.credit")]),W("click",D,()=>we("/")),fe(3,j,()=>ye),h(J,E),he(),O()}me(["click"]);export{ze as component};
