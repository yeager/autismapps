import{d as ke,a as Z,b as v,s as d,f as m}from"../chunks/5jrULABA.js";import{S as $e,T as y,U as H,V as xe,$ as J,Y as l,W as j,X as Be,d as e,_ as r,Z as i,a0 as a,a2 as we,a3 as Se,a4 as L}from"../chunks/Bu7XKhG-.js";import{i as P}from"../chunks/64S6HLbC.js";import{e as q,i as z}from"../chunks/D91HFo5I.js";import{t as M,f as Q}from"../chunks/BufHwZ1v.js";import{s as R,t as Te,a as E}from"../chunks/tnJ21aC2.js";import{s as ee}from"../chunks/DvixMhaI.js";import{s as De,a as ye}from"../chunks/Cvp8QKtV.js";import{g as Ce}from"../chunks/BAFRKenw.js";import{a as Ae,b as Pe}from"../chunks/BeKFXwpI.js";import{a as te}from"../chunks/BXvIZ4AA.js";var Ie=m('<span class="counter svelte-1hg8j8m"> </span>'),Ye=m('<span class="time-badge svelte-1hg8j8m"> </span>'),Ke=m('<span class="done-badge svelte-1hg8j8m">‚úÖ</span>'),Ne=m('<button><span class="task-icon svelte-1hg8j8m"> </span> <span class="task-name svelte-1hg8j8m"> </span> <div class="task-times svelte-1hg8j8m"></div> <!></button>'),Oe=m('<p class="intro svelte-1hg8j8m"> </p> <div class="task-grid svelte-1hg8j8m"></div>',1),Ue=m('<span class="step-check svelte-1hg8j8m">‚úÖ</span>'),Ve=m('<button><span class="step-number svelte-1hg8j8m"></span> <span class="step-icon svelte-1hg8j8m"> </span> <span class="step-text svelte-1hg8j8m"> </span> <!></button>'),We=m('<div class="celebration svelte-1hg8j8m"><span class="celebration-icon svelte-1hg8j8m">üéâ</span> <p class="svelte-1hg8j8m"> </p></div>'),Xe=m('<div class="task-detail svelte-1hg8j8m"><h2 class="svelte-1hg8j8m"> </h2> <div class="steps svelte-1hg8j8m"></div> <!></div>'),Ze=m('<div class="app-container svelte-1hg8j8m"><header class="sticky-header svelte-1hg8j8m"><button class="back-btn svelte-1hg8j8m">‚Üê</button> <h1 class="svelte-1hg8j8m"> </h1> <!></header> <main class="content svelte-1hg8j8m"><!></main> <footer class="credit svelte-1hg8j8m"><p class="svelte-1hg8j8m">Autismappar ¬∑ CC BY-NC-SA 4.0</p></footer></div>');function et(ae,se){$e(se,!0);const p=()=>ye(Te,"$t",re),[re,oe]=De(),F=[{id:"brush-teeth",icon:"ü™•",steps:["üíß","ü™•","‚è±Ô∏è","üö∞"],times:["morning","evening"]},{id:"get-dressed",icon:"üëï",steps:["üëñ","üëï","üß¶","üëü"],times:["morning"]},{id:"wash-hands",icon:"üßº",steps:["üíß","üßº","üëê","üßª"],times:["morning","afternoon","evening"]},{id:"pack-bag",icon:"üéí",steps:["üìö","‚úèÔ∏è","ü•™","üéí"],times:["morning"]},{id:"set-table",icon:"üçΩÔ∏è",steps:["üçΩÔ∏è","ü•Ñ","ü•õ","üßª"],times:["morning","afternoon","evening"]},{id:"tidy-up",icon:"üßπ",steps:["üì¶","üßπ","üßΩ","‚úÖ"],times:["afternoon","evening"]},{id:"bedtime",icon:"üõèÔ∏è",steps:["ü™•","üëï","üìñ","üí§"],times:["evening"]},{id:"homework",icon:"üìù",steps:["üìö","‚úèÔ∏è","‚è±Ô∏è","‚úÖ"],times:["afternoon"]}];let k=y("board"),u=y(null),$=y(H({})),ne=y(0),x=y(H([])),K=y(!1);xe(()=>{const t=J(te);t&&Ae(t,"practice-board").then(s=>{if(s){const o=new Date().toDateString();s.date===o&&l($,s.completed||{},!0)}})});function ie(){const t=J(te);t&&Pe(t,"practice-board",{date:new Date().toDateString(),completed:e($)})}function ce(t){l(u,t,!0),l(ne,0),l(x,t.steps.map(()=>!1),!0),l(k,"task"),E(p()(`practiceBoard.task.${t.id}`))}function le(t){l(x,e(x).map((s,o)=>o===t?!s:s),!0),e(x)[t]&&E(p()(`practiceBoard.step.${e(u).id}.${t}`)),e(x).every(Boolean)&&(l($,{...e($),[e(u).id]:!0},!0),ie(),l(K,!0),E(p()("practiceBoard.wellDone")),setTimeout(()=>{l(K,!1),l(k,"board")},2500))}function pe(){e(k)==="task"?(l(k,"board"),l(u,null)):Ce("/")}let ve=L(()=>Object.values(e($)).filter(Boolean).length),de=L(()=>F.length);function me(t){return t==="morning"?"üåÖ":t==="afternoon"?"‚òÄÔ∏è":"üåô"}var I=Ze(),N=r(I),O=r(N),U=i(O,2),ge=r(U);a(U);var fe=i(U,2);{var he=t=>{var s=Ie(),o=r(s);a(s),j(()=>d(o,`${e(ve)??""}/${e(de)??""}`)),v(t,s)};P(fe,t=>{e(k)==="board"&&t(he)})}a(N);var G=i(N,2),ue=r(G);{var _e=t=>{var s=Oe(),o=Se(s),V=r(o,!0);a(o);var S=i(o,2);q(S,21,()=>F,z,(C,_)=>{var n=Ne();let g;var c=r(n),f=r(c,!0);a(c);var b=i(c,2),Y=r(b,!0);a(b);var B=i(b,2);q(B,21,()=>e(_).times,z,(h,T)=>{var D=Ye(),w=r(D,!0);a(D),j((X,je)=>{R(D,"title",X),d(w,je)},[()=>p()(`practiceBoard.time.${e(T)}`),()=>me(e(T))]),v(h,D)}),a(B);var W=i(B,2);{var A=h=>{var T=Ke();v(h,T)};P(W,h=>{e($)[e(_).id]&&h(A)})}a(n),j(h=>{g=ee(n,1,"task-card svelte-1hg8j8m",null,g,{completed:e($)[e(_).id]}),d(f,e(_).icon),d(Y,h)},[()=>p()(`practiceBoard.task.${e(_).id}`)]),Z("click",n,()=>ce(e(_))),v(C,n)}),a(S),j(C=>d(V,C),[()=>p()("practiceBoard.intro")]),v(t,s)},be=t=>{var s=Xe(),o=r(s),V=r(o);a(o);var S=i(o,2);q(S,21,()=>e(u).steps,z,(n,g,c)=>{var f=Ve();let b;var Y=r(f);Y.textContent=c+1;var B=i(Y,2),W=r(B,!0);a(B);var A=i(B,2),h=r(A,!0);a(A);var T=i(A,2);{var D=w=>{var X=Ue();v(w,X)};P(T,w=>{e(x)[c]&&w(D)})}a(f),j(w=>{b=ee(f,1,"step-card svelte-1hg8j8m",null,b,{"step-done":e(x)[c]}),d(W,e(g)),d(h,w)},[()=>p()(`practiceBoard.step.${e(u).id}.${c}`)]),Z("click",f,()=>le(c)),v(n,f)}),a(S);var C=i(S,2);{var _=n=>{var g=We(),c=i(r(g),2),f=r(c,!0);a(c),a(g),j(b=>d(f,b),[()=>p()("practiceBoard.wellDone")]),M(1,g,()=>Q),v(n,g)};P(C,n=>{e(K)&&n(_)})}a(s),j(n=>d(V,`${e(u).icon??""} ${n??""}`),[()=>p()(`practiceBoard.task.${e(u).id}`)]),v(t,s)};P(ue,t=>{e(k)==="board"?t(_e):e(k)==="task"&&t(be,1)})}a(G),we(2),a(I),j((t,s)=>{R(O,"aria-label",t),d(ge,`üìã ${s??""}`)},[()=>p()("common.back"),()=>p()("practiceBoard.title")]),Z("click",O,pe),M(1,I,()=>Q),v(ae,I),Be(),oe()}ke(["click"]);export{et as component};
