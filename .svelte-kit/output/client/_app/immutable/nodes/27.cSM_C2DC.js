import{d as Pa,a as S,b as u,s as h,f as p,e as N}from"../chunks/5jrULABA.js";import{S as Ta,T as Y,U as va,W as b,X as Ma,d as a,Y as $,_ as s,Z as o,a0 as t,a2 as Na,a3 as Oa,$ as Wa,a4 as E}from"../chunks/Bu7XKhG-.js";import{i as O}from"../chunks/64S6HLbC.js";import{e as Z,i as K}from"../chunks/D91HFo5I.js";import{s as z,t as Ba,a as W,l as Ya}from"../chunks/tnJ21aC2.js";import{s as Za,a as Ka}from"../chunks/Cvp8QKtV.js";import{g as Ra}from"../chunks/BAFRKenw.js";import{t as Ua,s as Xa}from"../chunks/gbT3kRQG.js";var qa=p('<div class="header-actions svelte-18uxd1z"><button class="icon-btn svelte-18uxd1z">ğŸ’¾</button> <button class="icon-btn svelte-18uxd1z">ğŸ”„</button></div>'),Ea=p('<button class="topic-card svelte-18uxd1z"><span class="topic-emoji svelte-18uxd1z"> </span> <span> </span></button>'),Fa=p('<p class="intro svelte-18uxd1z"> </p> <div class="topics-grid svelte-18uxd1z"></div> <div class="method-credit svelte-18uxd1z"><p> </p></div>',1),Ga=p('<div class="loading svelte-18uxd1z"><div class="spinner svelte-18uxd1z"></div></div>'),Ha=p('<img width="48" height="48" class="svelte-18uxd1z"/>'),Ja=p('<button class="zone-item svelte-18uxd1z"><!> <span> </span></button>'),La=p('<img width="48" height="48" class="svelte-18uxd1z"/>'),Qa=p('<button class="zone-item svelte-18uxd1z"><!> <span> </span></button>'),Va=p('<img width="48" height="48" class="svelte-18uxd1z"/>'),ae=p('<button class="zone-item svelte-18uxd1z"><!> <span> </span></button>'),ee=p('<img width="56" height="56" class="svelte-18uxd1z"/>'),te=p('<div class="unplaced-card svelte-18uxd1z" role="listitem" draggable="true"><!> <span class="unplaced-label svelte-18uxd1z"> </span> <div class="place-buttons svelte-18uxd1z"><button class="place-btn pos svelte-18uxd1z" aria-label="Positive">ğŸ˜Š</button> <button class="place-btn neu svelte-18uxd1z" aria-label="Neutral">ğŸ˜</button> <button class="place-btn neg svelte-18uxd1z" aria-label="Negative">ğŸ˜Ÿ</button></div></div>'),se=p('<div class="unplaced-bar svelte-18uxd1z"><p class="bar-label svelte-18uxd1z"> </p> <div class="unplaced-items svelte-18uxd1z"></div></div>'),re=p('<div class="mat-layout svelte-18uxd1z"><div class="zones svelte-18uxd1z"><div class="zone positive svelte-18uxd1z" role="region"><h3 class="svelte-18uxd1z"> </h3> <div class="zone-items svelte-18uxd1z"></div></div> <div class="zone neutral-zone svelte-18uxd1z" role="region"><h3 class="svelte-18uxd1z"> </h3> <div class="zone-items svelte-18uxd1z"></div></div> <div class="zone negative-zone svelte-18uxd1z" role="region"><h3 class="svelte-18uxd1z"> </h3> <div class="zone-items svelte-18uxd1z"></div></div></div> <!></div>'),oe=p(`<div class="mat-page svelte-18uxd1z"><header class="app-header svelte-18uxd1z"><button class="back-btn svelte-18uxd1z"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M15 18l-6-6 6-6"></path></svg></button> <h1 class="svelte-18uxd1z"> </h1> <!></header> <!> <footer class="credit svelte-18uxd1z">Pictograms: <a href="https://arasaac.org" target="_blank" rel="noopener" class="svelte-18uxd1z">ARASAAC</a> â€” CC BY-NC-SA 3.0
    Â· Inspired by <a href="https://www.talkingmats.com" target="_blank" rel="noopener" class="svelte-18uxd1z">Talking Matsâ„¢</a> framework</footer></div>`);function _e(na,da){Ta(da,!0);const d=()=>Ka(Ba,"$t",ca),[ca,ua]=Za(),pa=[{id:"food",label:"mat.topic.food",emoji:"ğŸ",words:["pizza","vegetables","fruit","candy","milk","water","bread","soup","rice","chicken"]},{id:"school",label:"mat.topic.school",emoji:"ğŸ«",words:["reading","math","drawing","music","gym","recess","writing","computer","homework","group work"]},{id:"activities",label:"mat.topic.activities",emoji:"âš½",words:["swimming","football","drawing","music","dancing","cooking","reading","gaming","walking","cycling"]},{id:"feelings",label:"mat.topic.feelings",emoji:"ğŸ’­",words:["school","home","friends","family","bedtime","morning","eating","homework","playing","shopping"]}];let I=Y(null),k=Y(va([])),F=Y(!1),R=Y(null),sa=Y(va([]));async function _a(e){$(I,e,!0),$(F,!0),W(d()(e.label));const i=Wa(Ya)==="sv"?await Ua(e.words):null,x=await Promise.all(e.words.map(async(f,A)=>{const D=await Xa(f,"en");return{word:i?i[A].sv:f,id:D[0]?.id||0,url:D[0]?.url||"",zone:"unplaced"}}));$(k,x,!0),$(F,!1)}function U(e,v){$(k,a(k).map(i=>i.word===e.word?{...i,zone:v}:i),!0),W(e.word)}function ga(e){$(R,e,!0)}function G(e){a(R)&&(U(a(R),e),$(R,null))}function ma(){a(I)&&($(sa,[...a(sa),{topic:a(I).id,date:new Date().toISOString(),items:[...a(k)]}],!0),W(d()("mat.saved")))}function ba(){$(k,a(k).map(e=>({...e,zone:"unplaced"})),!0)}const ra=E(()=>a(k).filter(e=>e.zone==="unplaced")),za=E(()=>a(k).filter(e=>e.zone==="positive")),xa=E(()=>a(k).filter(e=>e.zone==="neutral")),ha=E(()=>a(k).filter(e=>e.zone==="negative"));var H=oe(),J=s(H),L=s(J),Q=o(L,2),fa=s(Q,!0);t(Q);var wa=o(Q,2);{var ka=e=>{var v=qa(),i=s(v),x=o(i,2);t(v),b((f,A)=>{z(i,"aria-label",f),z(x,"aria-label",A)},[()=>d()("mat.save"),()=>d()("mat.reset")]),S("click",i,ma),S("click",x,ba),u(e,v)};O(wa,e=>{a(I)&&e(ka)})}t(J);var ya=o(J,2);{var Sa=e=>{var v=Fa(),i=Oa(v),x=s(i,!0);t(i);var f=o(i,2);Z(f,21,()=>pa,K,(P,T)=>{var M=Ea(),C=s(M),B=s(C,!0);t(C);var X=o(C,2),q=s(X,!0);t(X),t(M),b(V=>{h(B,a(T).emoji),h(q,V)},[()=>d()(a(T).label)]),S("click",M,()=>_a(a(T))),u(P,M)}),t(f);var A=o(f,2),D=s(A),j=s(D,!0);t(D),t(A),b((P,T)=>{h(x,P),h(j,T)},[()=>d()("mat.choose_topic"),()=>d()("mat.credit")]),u(e,v)},$a=e=>{var v=Ga();u(e,v)},ja=e=>{var v=re(),i=s(v),x=s(i),f=s(x),A=s(f);t(f);var D=o(f,2);Z(D,21,()=>a(za),K,(n,r)=>{var l=Ja(),w=s(l);{var y=c=>{var m=Ha();b(()=>{z(m,"src",a(r).url),z(m,"alt",a(r).word)}),u(c,m)};O(w,c=>{a(r).url&&c(y)})}var _=o(w,2),g=s(_,!0);t(_),t(l),b(()=>h(g,a(r).word)),S("click",l,()=>W(a(r).word)),u(n,l)}),t(D),t(x);var j=o(x,2),P=s(j),T=s(P);t(P);var M=o(P,2);Z(M,21,()=>a(xa),K,(n,r)=>{var l=Qa(),w=s(l);{var y=c=>{var m=La();b(()=>{z(m,"src",a(r).url),z(m,"alt",a(r).word)}),u(c,m)};O(w,c=>{a(r).url&&c(y)})}var _=o(w,2),g=s(_,!0);t(_),t(l),b(()=>h(g,a(r).word)),S("click",l,()=>W(a(r).word)),u(n,l)}),t(M),t(j);var C=o(j,2),B=s(C),X=s(B);t(B);var q=o(B,2);Z(q,21,()=>a(ha),K,(n,r)=>{var l=ae(),w=s(l);{var y=c=>{var m=Va();b(()=>{z(m,"src",a(r).url),z(m,"alt",a(r).word)}),u(c,m)};O(w,c=>{a(r).url&&c(y)})}var _=o(w,2),g=s(_,!0);t(_),t(l),b(()=>h(g,a(r).word)),S("click",l,()=>W(a(r).word)),u(n,l)}),t(q),t(C),t(i);var V=o(i,2);{var Ca=n=>{var r=se(),l=s(r),w=s(l,!0);t(l);var y=o(l,2);Z(y,21,()=>a(ra),K,(_,g)=>{var c=te(),m=s(c);{var Aa=ea=>{var ta=ee();b(()=>{z(ta,"src",a(g).url),z(ta,"alt",a(g).word)}),u(ea,ta)};O(m,ea=>{a(g).url&&ea(Aa)})}var aa=o(m,2),Da=s(aa,!0);t(aa);var oa=o(aa,2),la=s(oa),ia=o(la,2),Ia=o(ia,2);t(oa),t(c),b(()=>h(Da,a(g).word)),N("dragstart",c,()=>ga(a(g))),S("click",la,()=>U(a(g),"positive")),S("click",ia,()=>U(a(g),"neutral")),S("click",Ia,()=>U(a(g),"negative")),u(_,c)}),t(y),t(r),b(_=>h(w,_),[()=>d()("mat.tap_to_place")]),u(n,r)};O(V,n=>{a(ra).length>0&&n(Ca)})}t(v),b((n,r,l,w,y,_)=>{z(x,"aria-label",n),h(A,`ğŸ˜Š ${r??""}`),z(j,"aria-label",l),h(T,`ğŸ˜ ${w??""}`),z(C,"aria-label",y),h(X,`ğŸ˜Ÿ ${_??""}`)},[()=>d()("mat.positive"),()=>d()("mat.positive"),()=>d()("mat.neutral"),()=>d()("mat.neutral"),()=>d()("mat.negative"),()=>d()("mat.negative")]),N("dragover",x,n=>n.preventDefault()),N("drop",x,()=>G("positive")),N("dragover",j,n=>n.preventDefault()),N("drop",j,()=>G("neutral")),N("dragover",C,n=>n.preventDefault()),N("drop",C,()=>G("negative")),u(e,v)};O(ya,e=>{a(I)?a(F)?e($a,1):e(ja,!1):e(Sa)})}Na(2),t(H),b((e,v)=>{z(L,"aria-label",e),h(fa,v)},[()=>d()("app.back"),()=>d()("mat.title")]),S("click",L,()=>a(I)?$(I,null):Ra("/")),u(na,H),Ma(),ua()}Pa(["click"]);export{_e as component};
