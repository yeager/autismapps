import{d as ee,a as g,b as _,s as u,f as h}from"../chunks/5jrULABA.js";import{S as ae,W as b,X as se,d as t,T as k,_ as r,a4 as Q,Z as l,Y as o,a0 as s,a2 as re,a3 as z,a1 as D,$ as ht}from"../chunks/Bu7XKhG-.js";import{i as M}from"../chunks/64S6HLbC.js";import{e as ne,i as le}from"../chunks/D91HFo5I.js";import{s as y,t as ie,a as Y,r as nt,l as gt}from"../chunks/tnJ21aC2.js";import{s as jt}from"../chunks/DvixMhaI.js";import{a as oe,b as xt}from"../chunks/BHAKTja7.js";import{s as ve,a as ce}from"../chunks/Cvp8QKtV.js";import{g as me}from"../chunks/BAFRKenw.js";import{s as kt}from"../chunks/gbT3kRQG.js";var ue=h('<img width="80" height="80" class="svelte-lj4nnm"/> <span> </span>',1),de=h('<img width="80" height="80" class="svelte-lj4nnm"/> <span> </span>',1),pe=h('<div class="first-then svelte-lj4nnm"><div class="ft-card first svelte-lj4nnm"><span class="ft-label svelte-lj4nnm"> </span> <!></div> <span class="ft-arrow svelte-lj4nnm">‚Üí</span> <div class="ft-card then svelte-lj4nnm"><span class="ft-label svelte-lj4nnm"> </span> <!></div></div>'),fe=h('<span class="done-emoji svelte-lj4nnm">üéâ</span> <span class="done-text svelte-lj4nnm"> </span>',1),_e=h('<span class="time-text svelte-lj4nnm"> </span>'),be=h('<span class="time-text svelte-lj4nnm"> </span>'),he=h("<button> </button>"),ge=h('<div class="ft-search svelte-lj4nnm"><div class="ft-field svelte-lj4nnm"><span class="svelte-lj4nnm"> </span> <input type="text" class="svelte-lj4nnm"/> <button class="svelte-lj4nnm">üîç</button></div> <div class="ft-field svelte-lj4nnm"><span class="svelte-lj4nnm"> </span> <input type="text" class="svelte-lj4nnm"/> <button class="svelte-lj4nnm">üîç</button></div></div>'),je=h('<div class="presets svelte-lj4nnm"></div> <label class="ft-toggle svelte-lj4nnm"><input type="checkbox" class="svelte-lj4nnm"/> <span> </span></label> <!> <button class="start-btn svelte-lj4nnm"> </button>',1),xe=h('<button class="pause-btn svelte-lj4nnm"> </button>'),ke=h('<div class="paused-actions svelte-lj4nnm"><button class="start-btn svelte-lj4nnm"> </button> <button class="reset-btn svelte-lj4nnm"> </button></div>'),ye=h('<button class="start-btn svelte-lj4nnm"> </button>'),we=h('<div><header class="app-header svelte-lj4nnm"><button class="back-btn svelte-lj4nnm"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M15 18l-6-6 6-6"></path></svg></button> <h1 class="svelte-lj4nnm"> </h1> <div class="header-actions svelte-lj4nnm"><span class="star-count svelte-lj4nnm"> </span> <button class="icon-btn svelte-lj4nnm">‚õ∂</button></div></header> <div class="timer-body svelte-lj4nnm"><!> <div class="timer-circle svelte-lj4nnm"><svg viewBox="0 0 300 300" class="timer-svg svelte-lj4nnm"><circle cx="150" cy="150" r="140" fill="none" stroke="var(--border)" stroke-width="12" opacity="0.3"></circle><circle cx="150" cy="150" r="140" fill="none" stroke-width="12" stroke-linecap="round" transform="rotate(-90 150 150)" class="progress-ring svelte-lj4nnm"></circle></svg> <div class="timer-display svelte-lj4nnm"><!></div></div> <!></div> <footer class="credit svelte-lj4nnm">Pictograms: <a href="https://arasaac.org" target="_blank" rel="noopener" class="svelte-lj4nnm">ARASAAC</a> ‚Äî CC BY-NC-SA 3.0</footer></div>');function Re(yt,wt){ae(wt,!0);const v=()=>ce(ie,"$t",Tt),[Tt,At]=ve();let $=k(5),p=k(0),w=k(!1),S=k(!1),C=null,N=k(0),H=k(!1),W=k(!1),R=k(""),V=k(""),I=k(null),F=k(null);const Ct=[1,2,5,10,15,30],J=Q(()=>t($)>0?1-t(p)/(t($)*60):0),St=Q(()=>t(J)<.5?"#27AE60":t(J)<.8?"#F1C40F":"#E74C3C"),Et=Q(()=>Math.floor(t(p)/60)),$t=Q(()=>t(p)%60),lt=2*Math.PI*140,It=Q(()=>lt*(1-t(J)));function Ft(){o(p,t($)*60),o(w,!0),o(S,!1),Y(v()("timer.start")),C=setInterval(()=>{D(p,-1),t(p)<=0&&(o(p,0),o(w,!1),o(S,!0),clearInterval(C),ot(),vt(),D(N),Y(v()("timer.done")))},1e3)}function Pt(){o(w,!1),C&&clearInterval(C),Y(v()("timer.pause"))}function Mt(){o(w,!0),C=setInterval(()=>{D(p,-1),t(p)<=0&&(o(p,0),o(w,!1),o(S,!0),clearInterval(C),ot(),vt(),D(N),Y(v()("timer.done")))},1e3)}function it(){o(w,!1),o(S,!1),o(p,0),C&&clearInterval(C)}function ot(){try{const e=new AudioContext,a=e.createOscillator(),n=e.createGain();a.connect(n),n.connect(e.destination),a.frequency.value=523,a.type="sine",n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+1.5),a.start(),a.stop(e.currentTime+1.5),setTimeout(()=>{const i=e.createOscillator(),m=e.createGain();i.connect(m),m.connect(e.destination),i.frequency.value=659,i.type="sine",m.gain.setValueAtTime(.3,e.currentTime),m.gain.exponentialRampToValueAtTime(.01,e.currentTime+1.5),i.start(),i.stop(e.currentTime+1.5)},300)}catch{}}function vt(){try{navigator.vibrate?.([200,100,200,100,400])}catch{}}async function ct(){if(!t(R).trim())return;const e=await kt(t(R),ht(gt));e[0]&&o(I,{url:e[0].url,word:t(R)},!0)}async function mt(){if(!t(V).trim())return;const e=await kt(t(V),ht(gt));e[0]&&o(F,{url:e[0].url,word:t(V)},!0)}function Rt(){document.fullscreenElement?(document.exitFullscreen?.(),o(H,!1)):(document.documentElement.requestFullscreen?.(),o(H,!0))}var X=we();let ut;var K=r(X),L=r(K),U=l(L,2),Vt=r(U,!0);s(U);var dt=l(U,2),Z=r(dt),qt=r(Z);s(Z);var Bt=l(Z,2);s(dt),s(K);var pt=l(K,2),ft=r(pt);{var Ot=e=>{var a=pe(),n=r(a),i=r(n),m=r(i,!0);s(i);var P=l(i,2);{var q=c=>{var d=ue(),f=z(d),T=l(f,2),x=r(T,!0);s(T),b(()=>{y(f,"src",t(I).url),y(f,"alt",t(I).word),u(x,t(I).word)}),_(c,d)};M(P,c=>{t(I)&&c(q)})}s(n);var E=l(n,4),B=r(E),O=r(B,!0);s(B);var st=l(B,2);{var j=c=>{var d=de(),f=z(d),T=l(f,2),x=r(T,!0);s(T),b(()=>{y(f,"src",t(F).url),y(f,"alt",t(F).word),u(x,t(F).word)}),_(c,d)};M(st,c=>{t(F)&&c(j)})}s(E),s(a),b((c,d)=>{u(m,c),u(O,d)},[()=>v()("timer.first"),()=>v()("timer.then")]),_(e,a)};M(ft,e=>{t(W)&&(t(I)||t(F))&&e(Ot)})}var tt=l(ft,2),et=r(tt),at=l(r(et));y(at,"stroke-dasharray",lt),s(et);var _t=l(et,2),Gt=r(_t);{var Qt=e=>{var a=fe(),n=l(z(a),2),i=r(n,!0);s(n),b(m=>u(i,m),[()=>v()("timer.done")]),_(e,a)},Yt=e=>{var a=_e(),n=r(a);s(a),b((i,m)=>u(n,`${i??""}:${m??""}`),[()=>String(t(Et)).padStart(2,"0"),()=>String(t($t)).padStart(2,"0")]),_(e,a)},Nt=e=>{var a=be(),n=r(a);s(a),b(()=>u(n,`${t($)??""}:00`)),_(e,a)};M(Gt,e=>{t(S)?e(Qt):t(w)||t(p)>0?e(Yt,1):e(Nt,!1)})}s(_t),s(tt);var Wt=l(tt,2);{var Xt=e=>{var a=je(),n=z(a);ne(n,21,()=>Ct,le,(j,c)=>{var d=he();let f;var T=r(d);s(d),b(x=>{f=jt(d,1,"preset-btn svelte-lj4nnm",null,f,{active:t($)===t(c)}),u(T,`${t(c)??""} ${x??""}`)},[()=>v()("timer.min")]),g("click",d,()=>{o($,t(c),!0),Y(t(c)+" "+v()("timer.minutes"))}),_(j,d)}),s(n);var i=l(n,2),m=r(i);nt(m);var P=l(m,2),q=r(P,!0);s(P),s(i);var E=l(i,2);{var B=j=>{var c=ge(),d=r(c),f=r(d),T=r(f);s(f);var x=l(f,2);nt(x);var Ht=l(x,2);s(d);var bt=l(d,2),rt=r(bt),Jt=r(rt);s(rt);var G=l(rt,2);nt(G);var Kt=l(G,2);s(bt),s(c),b((A,Lt,Ut,te)=>{u(T,`${A??""}:`),y(x,"placeholder",Lt),u(Jt,`${Ut??""}:`),y(G,"placeholder",te)},[()=>v()("timer.first"),()=>v()("board.search_pictograms"),()=>v()("timer.then"),()=>v()("board.search_pictograms")]),g("keydown",x,A=>{A.key==="Enter"&&ct()}),xt(x,()=>t(R),A=>o(R,A)),g("click",Ht,ct),g("keydown",G,A=>{A.key==="Enter"&&mt()}),xt(G,()=>t(V),A=>o(V,A)),g("click",Kt,mt),_(j,c)};M(E,j=>{t(W)&&j(B)})}var O=l(E,2),st=r(O,!0);s(O),b((j,c)=>{u(q,j),u(st,c)},[()=>v()("timer.first_then"),()=>v()("timer.start")]),oe(m,()=>t(W),j=>o(W,j)),g("click",O,Ft),_(e,a)},Zt=e=>{var a=xe(),n=r(a,!0);s(a),b(i=>u(n,i),[()=>v()("timer.pause")]),g("click",a,Pt),_(e,a)},zt=e=>{var a=ke(),n=r(a),i=r(n,!0);s(n);var m=l(n,2),P=r(m,!0);s(m),s(a),b((q,E)=>{u(i,q),u(P,E)},[()=>v()("timer.resume"),()=>v()("timer.reset")]),g("click",n,Mt),g("click",m,it),_(e,a)},Dt=e=>{var a=ye(),n=r(a,!0);s(a),b(i=>u(n,i),[()=>v()("timer.again")]),g("click",a,it),_(e,a)};M(Wt,e=>{!t(w)&&!t(S)&&t(p)===0?e(Xt):t(w)?e(Zt,1):!t(w)&&t(p)>0?e(zt,2):t(S)&&e(Dt,3)})}s(pt),re(2),s(X),b((e,a)=>{ut=jt(X,1,"timer-page svelte-lj4nnm",null,ut,{fullscreen:t(H)}),y(L,"aria-label",e),u(Vt,a),y(Z,"aria-label",`${t(N)??""} stars`),u(qt,`‚≠ê ${t(N)??""}`),y(at,"stroke",t(St)),y(at,"stroke-dashoffset",t(It))},[()=>v()("app.back"),()=>v()("timer.title")]),g("click",L,()=>me("/")),g("click",Bt,Rt),_(yt,X),se(),At()}ee(["click","keydown"]);export{Re as component};
