import{g as Q,b as w,s as C,f as B,d as ie,a as z,e as le}from"../chunks/Rl5oAaZp.js";import{x as ce,az as ve,ag as H,ap as pe,s as q,aq as X,a as m,an as Y,ai as K,ao as F,aj as a,al as s,ak as p,ah as j,as as U}from"../chunks/5-o2xn5F.js";import{B as de,i as R}from"../chunks/CV8532PG.js";import{s as E}from"../chunks/mnwxxtgv.js";import{s as G}from"../chunks/tEQK-CCT.js";import{a as d,s as V}from"../chunks/1mwIFy_z.js";import{s as ue,g as N}from"../chunks/C7HAlxDp.js";import{t as Z,s as he}from"../chunks/D-IBFiEI.js";import{s as ee,j as fe,r as me,n as be,o as ge}from"../chunks/TeHBZhWf.js";import{t as J,s as $e,a as _e}from"../chunks/CYPR1nOs.js";import{A as ke,h as O,r as te,t as ye}from"../chunks/FoDH_54F.js";import{i as xe}from"../chunks/ozm9xCUE.js";import{a as Me}from"../chunks/CCIDKU4D.js";function we(t,c,...u){var i=new de(t);ce(()=>{const o=c()??null;i.ensure(o,o&&(b=>o(b,...u)))},ve)}const Se=()=>{const t=ue;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},Ce={subscribe(t){return Se().page.subscribe(t)}};var Ae=B('<div class="achievement-popup svelte-6f1pty"><div class="achievement-card svelte-6f1pty"><span class="achievement-icon svelte-6f1pty"> </span> <div class="achievement-text"><p class="achievement-title svelte-6f1pty"> </p> <p class="achievement-name svelte-6f1pty"> </p></div></div></div>');function qe(t,c){H(c,!0);const u=()=>d(O,"$lastUnlockedAchievement",o),i=()=>d(Z,"$t",o),[o,b]=V();let r=F(!1),l=F(""),g=F("");pe(()=>{const n=u();if(n){const e=ke.find(v=>v.key===n.achievementKey);e&&(q(l,e.icon,!0),q(g,i()(e.labelKey),!0),q(r,!0),X(te).praiseEnabled&&ee(i()("rewards.achievement_unlocked")+"! "+m(g)),setTimeout(()=>{q(r,!1),O.set(null)},4e3))}});var $=Q(),_=Y($);{var h=n=>{var e=Ae(),v=a(e),y=a(v),I=a(y,!0);s(y);var k=p(y,2),x=a(k),P=a(x);s(x);var A=p(x,2),f=a(A,!0);s(A),s(k),s(v),s(e),j(S=>{C(I,m(l)),C(P,`${S??""}!`),C(f,m(g))},[()=>i()("rewards.achievement_unlocked")]),J(1,v,()=>$e,()=>({duration:400,delay:100})),J(3,e,()=>_e,()=>({y:-80,duration:500})),w(n,e)};R(_,n=>{m(r)&&n(h)})}w(t,$),K(),b()}var Ee=B('<div class="star-counter svelte-1by7fa3"><span class="star-icon svelte-1by7fa3">⭐</span> <span class="star-count"> </span></div>');function je(t,c){H(c,!1);const u=()=>d(Me,"$activeProfileId",o),i=()=>d(ye,"$totalStars",o),[o,b]=V();xe();var r=Q(),l=Y(r);{var g=_=>{var h=Ee(),n=p(a(h),2),e=a(n,!0);s(n),s(h),j(()=>{E(h,"aria-label",`${i()??""} guldstjärnor`),C(e,i())}),w(_,h)},$=U(()=>u()&&X(te).enabled);R(l,_=>{m($)&&_(g)})}w(t,r),K(),b()}var Be=B('<header class="app-header svelte-12qhfyh"><button class="back-btn svelte-12qhfyh"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"></path></svg> <span> </span></button> <div class="header-spacer svelte-12qhfyh"></div> <!> <button class="rewards-btn svelte-12qhfyh">⭐</button> <button class="settings-btn svelte-12qhfyh"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg></button></header>'),Ie=B("<div><!> <main><!></main> <!></div>");function Ge(t,c){H(c,!0);const u=()=>d(Ce,"$page",l),i=()=>d(be,"$themeClass",l),o=()=>d(ge,"$textSizeClass",l),b=()=>d(me,"$reducedMotion",l),r=()=>d(Z,"$t",l),[l,g]=V(),$=U(()=>u().url.pathname==="/"),_=U(()=>u().url.pathname.startsWith("/apps/"));function h(){m(_)?N("/"):history.back()}function n(){N("/settings")}{const f=localStorage.getItem("locale");f&&he(f),fe()}var e=Ie();let v;var y=a(e);{var I=f=>{var S=Be(),M=a(S),D=p(a(M),2),ae=a(D,!0);s(D),s(M);var L=p(M,4);je(L,{});var T=p(L,2),W=p(T,2);s(S),j((se,re,oe,ne)=>{E(M,"aria-label",se),C(ae,re),E(T,"aria-label",oe),E(W,"aria-label",ne)},[()=>r()("app.back"),()=>r()("app.back"),()=>r()("rewards.nav"),()=>r()("app.settings")]),z("click",M,h),le("focus",M,()=>ee(r()("app.back"))),z("click",T,()=>N("/rewards")),z("click",W,n),w(f,S)};R(y,f=>{m($)||f(I)})}var k=p(y,2);let x;var P=a(k);we(P,()=>c.children),s(k);var A=p(k,2);qe(A,{}),s(e),j(()=>{v=G(e,1,`app-shell ${i()??""} ${o()??""}`,"svelte-12qhfyh",v,{"reduced-motion":b()}),x=G(k,1,"app-main svelte-12qhfyh",null,x,{"has-header":!m($)})}),w(t,e),K(),g()}ie(["click"]);export{Ge as component};
