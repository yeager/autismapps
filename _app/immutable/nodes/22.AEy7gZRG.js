import{d as pe,a as W,b,s as u,f as g}from"../chunks/Rl5oAaZp.js";import{ag as ce,ao as G,b as q,an as O,ah as x,ai as ue,a as e,s as m,aj as n,ak as d,al as o,am as de,as as P,ar as _e}from"../chunks/5-o2xn5F.js";import{i as D}from"../chunks/CV8532PG.js";import{e as H,i as I}from"../chunks/CWjGmADL.js";import{t as fe,f as ke}from"../chunks/CYPR1nOs.js";import{s as Q}from"../chunks/tEQK-CCT.js";import{s as he}from"../chunks/CttGtDdq.js";import{s as be,a as ge}from"../chunks/1mwIFy_z.js";import{g as ye}from"../chunks/C7HAlxDp.js";import{W as je}from"../chunks/BIf6fDbj.js";import{t as R}from"../chunks/D-IBFiEI.js";import{s as U}from"../chunks/TeHBZhWf.js";var Ge=g('<span class="moves svelte-13pnm7k"> </span>'),xe=g("<button> </button>"),$e=g('<button class="card theme-card svelte-13pnm7k"><span class="ico svelte-13pnm7k"> </span> <span class="nm svelte-13pnm7k"> </span></button>'),we=g('<h2 class="svelte-13pnm7k"> </h2> <div class="size-picker svelte-13pnm7k"></div> <div class="grid svelte-13pnm7k"></div>',1),Ce=g('<div class="win svelte-13pnm7k"><span class="big svelte-13pnm7k">üéâ</span> <h2 class="svelte-13pnm7k"> </h2> <p> </p> <button class="action-btn svelte-13pnm7k"> </button> <button class="action-btn svelte-13pnm7k"> </button></div>'),Se=g('<span class="emoji svelte-13pnm7k"> </span>'),We=g('<span class="q svelte-13pnm7k">?</span>'),Ke=g("<button><!></button>"),Te=g('<div class="board svelte-13pnm7k"></div>'),ze=g('<!> <div class="app svelte-13pnm7k"><header class="hdr svelte-13pnm7k"><button class="back svelte-13pnm7k">‚Üê</button> <h1 class="svelte-13pnm7k"> </h1> <!></header> <main class="cnt svelte-13pnm7k"><!></main> <footer class="cr svelte-13pnm7k"><p>Autismappar ¬∑ CC BY-NC-SA 4.0</p></footer></div>',1);function Le(V,X){ce(X,!0);const _=()=>ge(R,"$t",Z),[Z,ee]=be(),ae=[{id:"animals",icon:"üêæ",emojis:["üê∂","üê±","üê∞","üê∏","üêª","ü¶ä","üê®","üêº"]},{id:"food",icon:"üçé",emojis:["üçé","üçå","üçï","üç¶","üßÅ","ü•ï","üçì","ü•ë"]},{id:"transport",icon:"üöó",emojis:["üöó","üöå","‚úàÔ∏è","üöÇ","üö≤","üõ¥","üöÄ","‚õµ"]},{id:"nature",icon:"üå≥",emojis:["üåª","üåà","‚≠ê","üåô","‚ùÑÔ∏è","üî•","üíß","üçÑ"]}];let $=G(null),S=G(4),w=G(q([])),f=G(q([])),j=G(q(new Set)),T=G(0),A=G(!1),z=G(!1);function N(a){m($,R,!0);const t=a.emojis.slice(0,e(S)),s=[...t,...t].map((r,l)=>({id:l,emoji:r}));for(let r=s.length-1;r>0;r--){const l=Math.floor(Math.random()*(r+1));[s[r],s[l]]=[s[l],s[r]]}m(w,s,!0),m(f,[],!0),m(j,new Set,!0),m(T,0),m(A,!1)}function te(a){if(!(e(z)||e(f).includes(a)||e(j).has(e(w)[a].emoji))&&(m(f,[...e(f),a],!0),U(e(w)[a].emoji),e(f).length===2)){_e(T),m(z,!0);const[t,s]=e(f);e(w)[t].emoji===e(w)[s].emoji?(m(j,new Set([...e(j),e(w)[t].emoji]),!0),m(f,[],!0),m(z,!1),e(j).size===e(S)&&(m(A,!0),U(_()("memoryGame.youWon")))):setTimeout(()=>{m(f,[],!0),m(z,!1)},1e3)}}let se=P(()=>(e(S)<=4||e(S)<=6,4));var Y=ze(),F=O(Y);je(F,{appId:"memory-game",titleKey:"app.memory_game",purposeKey:"welcome.memoryGame.purpose",howKey:"welcome.memoryGame.how",goalKey:"welcome.memoryGame.goal",icon:"üÉè"});var M=d(F,2),B=n(M),J=n(B),E=d(J,2),oe=n(E);o(E);var re=d(E,2);{var me=a=>{var t=Ge(),s=n(t);o(t),x(r=>u(s,`${e(T)??""} ${r??""}`),[()=>_()("memoryGame.moves")]),b(a,t)};D(re,a=>{e($)&&a(me)})}o(B);var L=d(B,2),ne=n(L);{var le=a=>{var t=we(),s=O(t),r=n(s,!0);o(s);var l=d(s,2);H(l,20,()=>[4,6,8],I,(p,c)=>{var i=xe();let h;var C=n(i);o(i),x(v=>{h=Q(i,1,"size-btn svelte-13pnm7k",null,h,{active:e(S)===c}),u(C,`${c??""} ${v??""}`)},[()=>_()("memoryGame.pairs")]),W("click",i,()=>m(S,c,!0)),b(p,i)}),o(l);var k=d(l,2);H(k,21,()=>ae,I,(p,c)=>{var i=$e(),h=n(i),C=n(h,!0);o(h);var v=d(h,2),y=n(v,!0);o(v),o(i),x(K=>{u(C,e(c).icon),u(y,K)},[()=>_()(`memoryGame.theme.${e(c).id}`)]),W("click",i,()=>N(e(c))),b(p,i)}),o(k),x(p=>u(r,p),[()=>_()("memoryGame.pickTheme")]),b(a,t)},ie=a=>{var t=Ce(),s=d(n(t),2),r=n(s,!0);o(s);var l=d(s,2),k=n(l);o(l);var p=d(l,2),c=n(p);o(p);var i=d(p,2),h=n(i);o(i),o(t),x((C,v,y,K)=>{u(r,C),u(k,`${e(T)??""} ${v??""}`),u(c,`üîÑ ${y??""}`),u(h,`üìã ${K??""}`)},[()=>_()("memoryGame.youWon"),()=>_()("memoryGame.moves"),()=>_()("memoryGame.playAgain"),()=>_()("memoryGame.newTheme")]),W("click",p,()=>N(e($))),W("click",i,()=>m($,null)),b(a,t)},ve=a=>{var t=Te();he(t,`grid-template-columns: repeat(${e(se)??""}, 1fr)`),H(t,21,()=>e(w),I,(s,r,l)=>{var k=Ke();let p;var c=n(k);{var i=v=>{var y=Se(),K=n(y,!0);o(y),x(()=>u(K,e(r).emoji)),b(v,y)},h=P(()=>e(f).includes(l)||e(j).has(e(r).emoji)),C=v=>{var y=We();b(v,y)};D(c,v=>{e(h)?v(i):v(C,!1)})}o(k),x(v=>p=Q(k,1,"mem-card svelte-13pnm7k",null,p,v),[()=>({"face-up":e(f).includes(l)||e(j).has(e(r).emoji),matched:e(j).has(e(r).emoji)})]),W("click",k,()=>te(l)),b(s,k)}),o(t),b(a,t)};D(ne,a=>{e($)?e(A)?a(ie,1):a(ve,!1):a(le)})}o(L),de(2),o(M),x(a=>u(oe,`üß© ${a??""}`),[()=>_()("memoryGame.title")]),W("click",J,()=>e($)?m($,null):ye("/")),fe(1,M,()=>ke),b(V,Y),ue(),ee()}pe(["click"]);export{Le as component};
