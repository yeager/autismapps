import{d as Be,a as F,b as v,s as d,f as m}from"../chunks/Rl5oAaZp.js";import{ag as we,ao as T,b as U,ap as ye,aq as V,s as p,an as X,ah as j,ai as De,a as e,aj as r,ak as o,al as a,am as Se,as as Z}from"../chunks/5-o2xn5F.js";import{i as K}from"../chunks/CV8532PG.js";import{e as G,i as H}from"../chunks/CWjGmADL.js";import{t as ee,f as te}from"../chunks/CYPR1nOs.js";import{s as ae}from"../chunks/mnwxxtgv.js";import{s as se}from"../chunks/tEQK-CCT.js";import{s as Te,a as Ce}from"../chunks/1mwIFy_z.js";import{g as Ae}from"../chunks/C7HAlxDp.js";import{W as Ke}from"../chunks/BIf6fDbj.js";import{t as Pe}from"../chunks/D-IBFiEI.js";import{s as J}from"../chunks/TeHBZhWf.js";import{a as Ie,b as We}from"../chunks/B5a8mNDb.js";import{a as re}from"../chunks/CCIDKU4D.js";var qe=m('<span class="counter svelte-1hg8j8m"> </span>'),Ne=m('<span class="time-badge svelte-1hg8j8m"> </span>'),Oe=m('<span class="done-badge svelte-1hg8j8m">‚úÖ</span>'),Ye=m('<button><span class="task-icon svelte-1hg8j8m"> </span> <span class="task-name svelte-1hg8j8m"> </span> <div class="task-times svelte-1hg8j8m"></div> <!></button>'),ze=m('<p class="intro svelte-1hg8j8m"> </p> <div class="task-grid svelte-1hg8j8m"></div>',1),Ee=m('<span class="step-check svelte-1hg8j8m">‚úÖ</span>'),Fe=m('<button><span class="step-number svelte-1hg8j8m"></span> <span class="step-icon svelte-1hg8j8m"> </span> <span class="step-text svelte-1hg8j8m"> </span> <!></button>'),Ge=m('<div class="celebration svelte-1hg8j8m"><span class="celebration-icon svelte-1hg8j8m">üéâ</span> <p class="svelte-1hg8j8m"> </p></div>'),He=m('<div class="task-detail svelte-1hg8j8m"><h2 class="svelte-1hg8j8m"> </h2> <div class="steps svelte-1hg8j8m"></div> <!></div>'),Je=m('<!> <div class="app-container svelte-1hg8j8m"><header class="sticky-header svelte-1hg8j8m"><button class="back-btn svelte-1hg8j8m">‚Üê</button> <h1 class="svelte-1hg8j8m"> </h1> <!></header> <main class="content svelte-1hg8j8m"><!></main> <footer class="credit svelte-1hg8j8m"><p class="svelte-1hg8j8m">Autismappar ¬∑ CC BY-NC-SA 4.0</p></footer></div>',1);function it(oe,ie){we(ie,!0);const l=()=>Ce(Pe,"$t",ne),[ne,ce]=Te(),L=[{id:"brush-teeth",icon:"ü™•",steps:["üíß","ü™•","‚è±Ô∏è","üö∞"],times:["morning","evening"]},{id:"get-dressed",icon:"üëï",steps:["üëñ","üëï","üß¶","üëü"],times:["morning"]},{id:"wash-hands",icon:"üßº",steps:["üíß","üßº","üëê","üßª"],times:["morning","afternoon","evening"]},{id:"pack-bag",icon:"üéí",steps:["üìö","‚úèÔ∏è","ü•™","üéí"],times:["morning"]},{id:"set-table",icon:"üçΩÔ∏è",steps:["üçΩÔ∏è","ü•Ñ","ü•õ","üßª"],times:["morning","afternoon","evening"]},{id:"tidy-up",icon:"üßπ",steps:["üì¶","üßπ","üßΩ","‚úÖ"],times:["afternoon","evening"]},{id:"bedtime",icon:"üõèÔ∏è",steps:["ü™•","üëï","üìñ","üí§"],times:["evening"]},{id:"homework",icon:"üìù",steps:["üìö","‚úèÔ∏è","‚è±Ô∏è","‚úÖ"],times:["afternoon"]}];let k=T("board"),u=T(null),$=T(U({})),pe=T(0),x=T(U([])),I=T(!1);ye(()=>{const t=V(re);t&&Ie(t,"practice-board").then(s=>{if(s){const i=new Date().toDateString();s.date===i&&p($,s.completed||{},!0)}})});function le(){const t=V(re);t&&We(t,"practice-board",{date:new Date().toDateString(),completed:e($)})}function ve(t){p(u,t,!0),p(pe,0),p(x,t.steps.map(()=>!1),!0),p(k,"task"),J(l()(`practiceBoard.task.${t.id}`))}function de(t){p(x,e(x).map((s,i)=>i===t?!s:s),!0),e(x)[t]&&J(l()(`practiceBoard.step.${e(u).id}.${t}`)),e(x).every(Boolean)&&(p($,{...e($),[e(u).id]:!0},!0),le(),p(I,!0),J(l()("practiceBoard.wellDone")),setTimeout(()=>{p(I,!1),p(k,"board")},2500))}function me(){e(k)==="task"?(p(k,"board"),p(u,null)):Ae("/")}let ge=Z(()=>Object.values(e($)).filter(Boolean).length),fe=Z(()=>L.length);function he(t){return t==="morning"?"üåÖ":t==="afternoon"?"‚òÄÔ∏è":"üåô"}var M=Je(),Q=X(M);Ke(Q,{appId:"practice-board",titleKey:"app.practice_board",purposeKey:"welcome.practiceBoard.purpose",howKey:"welcome.practiceBoard.how",goalKey:"welcome.practiceBoard.goal",icon:"üìä"});var W=o(Q,2),q=r(W),N=r(q),O=o(N,2),ue=r(O);a(O);var _e=o(O,2);{var be=t=>{var s=qe(),i=r(s);a(s),j(()=>d(i,`${e(ge)??""}/${e(fe)??""}`)),v(t,s)};K(_e,t=>{e(k)==="board"&&t(be)})}a(q);var R=o(q,2),je=r(R);{var ke=t=>{var s=ze(),i=X(s),Y=r(i,!0);a(i);var y=o(i,2);G(y,21,()=>L,H,(C,_)=>{var n=Ye();let g;var c=r(n),f=r(c,!0);a(c);var b=o(c,2),P=r(b,!0);a(b);var B=o(b,2);G(B,21,()=>e(_).times,H,(h,D)=>{var S=Ne(),w=r(S,!0);a(S),j((E,xe)=>{ae(S,"title",E),d(w,xe)},[()=>l()(`practiceBoard.time.${e(D)}`),()=>he(e(D))]),v(h,S)}),a(B);var z=o(B,2);{var A=h=>{var D=Oe();v(h,D)};K(z,h=>{e($)[e(_).id]&&h(A)})}a(n),j(h=>{g=se(n,1,"task-card svelte-1hg8j8m",null,g,{completed:e($)[e(_).id]}),d(f,e(_).icon),d(P,h)},[()=>l()(`practiceBoard.task.${e(_).id}`)]),F("click",n,()=>ve(e(_))),v(C,n)}),a(y),j(C=>d(Y,C),[()=>l()("practiceBoard.intro")]),v(t,s)},$e=t=>{var s=He(),i=r(s),Y=r(i);a(i);var y=o(i,2);G(y,21,()=>e(u).steps,H,(n,g,c)=>{var f=Fe();let b;var P=r(f);P.textContent=c+1;var B=o(P,2),z=r(B,!0);a(B);var A=o(B,2),h=r(A,!0);a(A);var D=o(A,2);{var S=w=>{var E=Ee();v(w,E)};K(D,w=>{e(x)[c]&&w(S)})}a(f),j(w=>{b=se(f,1,"step-card svelte-1hg8j8m",null,b,{"step-done":e(x)[c]}),d(z,e(g)),d(h,w)},[()=>l()(`practiceBoard.step.${e(u).id}.${c}`)]),F("click",f,()=>de(c)),v(n,f)}),a(y);var C=o(y,2);{var _=n=>{var g=Ge(),c=o(r(g),2),f=r(c,!0);a(c),a(g),j(b=>d(f,b),[()=>l()("practiceBoard.wellDone")]),ee(1,g,()=>te),v(n,g)};K(C,n=>{e(I)&&n(_)})}a(s),j(n=>d(Y,`${e(u).icon??""} ${n??""}`),[()=>l()(`practiceBoard.task.${e(u).id}`)]),v(t,s)};K(je,t=>{e(k)==="board"?t(ke):e(k)==="task"&&t($e,1)})}a(R),Se(2),a(W),j((t,s)=>{ae(N,"aria-label",t),d(ue,`üìã ${s??""}`)},[()=>l()("common.back"),()=>l()("practiceBoard.title")]),F("click",N,me),ee(1,W,()=>te),v(oe,M),De(),ce()}Be(["click"]);export{it as component};
