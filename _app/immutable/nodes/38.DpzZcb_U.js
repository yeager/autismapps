import{d as ie,a as $,b as p,s as u,f}from"../chunks/Rl5oAaZp.js";import{ag as de,ao as w,b as R,an as ve,ah as x,ai as ue,s as i,a as r,aj as n,ak as d,al as l,am as pe,ar as fe,as as me,au as be}from"../chunks/5-o2xn5F.js";import{i as V}from"../chunks/CV8532PG.js";import{e as W,i as E}from"../chunks/CWjGmADL.js";import{t as Y,f as q}from"../chunks/CYPR1nOs.js";import{s as _e}from"../chunks/tEQK-CCT.js";import{s as J}from"../chunks/CttGtDdq.js";import{s as xe,a as ge}from"../chunks/1mwIFy_z.js";import{g as we}from"../chunks/C7HAlxDp.js";import{W as he}from"../chunks/BIf6fDbj.js";import{t as $e}from"../chunks/D-IBFiEI.js";import{s as M}from"../chunks/TeHBZhWf.js";var ke=f('<button class="strip-word svelte-xuio79"> </button>'),je=f('<span class="placeholder svelte-xuio79"> </span>'),ye=f('<div class="success svelte-xuio79"><p class="svelte-xuio79"> </p> <button class="next-btn svelte-xuio79"> </button></div>'),Be=f("<button> </button>"),Ce=f('<div class="words svelte-xuio79"></div>'),Ke=f('<span class="legend-item svelte-xuio79"><span class="legend-dot svelte-xuio79"></span> </span>'),Ae=f('<!> <div class="app svelte-xuio79"><header class="hdr svelte-xuio79"><button class="back svelte-xuio79">‚Üê</button> <h1 class="svelte-xuio79"> </h1> <span class="score svelte-xuio79"> </span></header> <main class="cnt svelte-xuio79"><div class="strip svelte-xuio79"><!> <!></div> <!> <div class="legend svelte-xuio79"></div></main> <footer class="cr svelte-xuio79"><p>Autismappar ¬∑ CC BY-NC-SA 4.0 ¬∑ Fitzgerald Key</p></footer></div>',1);function He(G,P){de(P,!0);const m=()=>ge($e,"$t",Q),[Q,U]=xe(),h=[{parts:[{word:"Jag",cat:"person"},{word:"vill",cat:"verb"},{word:"√§ta",cat:"verb"},{word:"mat",cat:"object"}]},{parts:[{word:"Jag",cat:"person"},{word:"vill",cat:"verb"},{word:"dricka",cat:"verb"},{word:"vatten",cat:"object"}]},{parts:[{word:"Mamma",cat:"person"},{word:"l√§ser",cat:"verb"},{word:"en",cat:"other"},{word:"bok",cat:"object"}]},{parts:[{word:"Katten",cat:"person"},{word:"sover",cat:"verb"},{word:"p√•",cat:"other"},{word:"soffan",cat:"object"}]},{parts:[{word:"Jag",cat:"person"},{word:"√§r",cat:"verb"},{word:"glad",cat:"feeling"}]},{parts:[{word:"Vi",cat:"person"},{word:"g√•r",cat:"verb"},{word:"till",cat:"other"},{word:"skolan",cat:"object"}]}],k={person:"#f5c542",verb:"#4caf50",object:"#ff9800",feeling:"#2196f3",other:"#9e9e9e"};let g=w(0),b=w(R([])),c=w(R([])),j=w(!1),N=w(0);function X(t){const e=[...t];for(let s=e.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[e[s],e[a]]=[e[a],e[s]]}return e}function y(){i(b,X(h[r(g)].parts.map((t,e)=>({...t,id:e,used:!1}))),!0),i(c,[],!0),i(j,!1)}y();function Z(t){if(!t.used&&(i(c,[...r(c),t],!0),i(b,r(b).map(e=>e.id===t.id?{...e,used:!0}:e),!0),M(t.word),r(c).length===h[r(g)].parts.length)){const e=r(c).map(a=>a.word).join(" "),s=h[r(g)].parts.map(a=>a.word).join(" ");e===s?(i(j,!0),fe(N),M(e)):(M(m()("sentenceBuilder.tryAgain")),setTimeout(()=>y(),1200))}}function ee(t){const e=r(c)[t];i(c,r(c).filter((s,a)=>a!==t),!0),i(b,r(b).map(s=>s.id===e.id?{...s,used:!1}:s),!0)}function te(){i(g,(r(g)+1)%h.length),y()}var O=Ae(),T=ve(O);he(T,{appId:"sentence-builder",titleKey:"app.sentence_builder",purposeKey:"welcome.sentenceBuilder.purpose",howKey:"welcome.sentenceBuilder.how",goalKey:"welcome.sentenceBuilder.goal",icon:"‚úèÔ∏è"});var B=d(T,2),C=n(B),I=n(C),K=d(I,2),ae=n(K);l(K);var z=d(K,2),re=n(z);l(z),l(C);var D=d(C,2),A=n(D),F=n(A);W(F,17,()=>r(c),E,(t,e,s)=>{var a=ke(),o=n(a,!0);l(a),x(()=>{J(a,`--wc:${k[r(e).cat]??""}`),u(o,r(e).word)}),$("click",a,()=>ee(s)),p(t,a)});var se=d(F,2);{var oe=t=>{var e=je(),s=n(e,!0);l(e),x(a=>u(s,a),[()=>m()("sentenceBuilder.buildHere")]),p(t,e)};V(se,t=>{r(c).length===0&&t(oe)})}l(A);var H=d(A,2);{var le=t=>{var e=ye(),s=n(e),a=n(s);l(s);var o=d(s,2),v=n(o);l(o),l(e),x((_,S)=>{u(a,`üéâ ${_??""}!`),u(v,`‚ñ∂ ${S??""}`)},[()=>m()("sentenceBuilder.correct"),()=>m()("sentenceBuilder.next")]),$("click",o,te),Y(1,e,()=>q),p(t,e)},ne=t=>{var e=Ce();W(e,21,()=>r(b),E,(s,a)=>{var o=Be();let v;var _=n(o,!0);l(o),x(()=>{v=_e(o,1,"word-btn svelte-xuio79",null,v,{used:r(a).used}),J(o,`--wc:${k[r(a).cat]??""}`),o.disabled=r(a).used,u(_,r(a).word)}),$("click",o,()=>Z(r(a))),p(s,o)}),l(e),p(t,e)};V(H,t=>{r(j)?t(le):t(ne,!1)})}var L=d(H,2);W(L,21,()=>Object.entries(k),E,(t,e)=>{var s=me(()=>be(r(e),2));let a=()=>r(s)[0],o=()=>r(s)[1];var v=Ke(),_=n(v),S=d(_);l(v),x(ce=>{J(_,`background:${o()??""}`),u(S,` ${ce??""}`)},[()=>m()(`sentenceBuilder.cat.${a()}`)]),p(t,v)}),l(L),l(D),pe(2),l(B),x(t=>{u(ae,`üìù ${t??""}`),u(re,`‚≠ê ${r(N)??""}`)},[()=>m()("sentenceBuilder.title")]),$("click",I,()=>we("/")),Y(1,B,()=>q),p(G,O),ue(),U()}ie(["click"]);export{He as component};
