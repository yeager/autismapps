import{d as Je,a as g,b as d,s as p,f as b,g as qe}from"../chunks/Rl5oAaZp.js";import{ag as Ge,ao as A,b as ee,an as ce,ah as m,a as t,ai as Le,ak as i,aj as o,al as r,am as Ye,s as h,as as Me,aq as ve}from"../chunks/5-o2xn5F.js";import{i as C}from"../chunks/CV8532PG.js";import{e as E,i as j}from"../chunks/CWjGmADL.js";import{t as Qe,f as Xe}from"../chunks/CYPR1nOs.js";import{s as $}from"../chunks/mnwxxtgv.js";import{s as Ze}from"../chunks/tEQK-CCT.js";import{s as R}from"../chunks/CttGtDdq.js";import{b as et}from"../chunks/DyKTEprm.js";import{s as tt,a as at}from"../chunks/1mwIFy_z.js";import{g as st}from"../chunks/C7HAlxDp.js";import{W as rt}from"../chunks/BIf6fDbj.js";import{t as ot,l as pe}from"../chunks/D-IBFiEI.js";import{s as W}from"../chunks/TeHBZhWf.js";import{s as ue}from"../chunks/gbT3kRQG.js";var nt=b('<p class="strip-hint svelte-7euyx0"> </p>'),lt=b('<img width="56" height="56" class="svelte-7euyx0"/>'),it=b('<button class="strip-item svelte-7euyx0"><!> <span class="strip-label svelte-7euyx0"> </span></button>'),ct=b('<div class="strip-actions svelte-7euyx0"><button class="action-btn speak svelte-7euyx0"> </button> <button class="action-btn save svelte-7euyx0"> </button> <button class="action-btn clear svelte-7euyx0">‚úï</button></div>'),vt=b('<button class="starter-btn svelte-7euyx0"><span class="starter-text svelte-7euyx0"> </span> <span class="starter-phase svelte-7euyx0"> </span></button>'),pt=b('<button><span class="cat-icon svelte-7euyx0"> </span> <span class="cat-name svelte-7euyx0"> </span></button>'),ut=b('<div class="loading svelte-7euyx0"> </div>'),dt=b('<img width="64" height="64" loading="lazy" class="svelte-7euyx0"/>'),_t=b('<button class="word-btn svelte-7euyx0"><!> <span class="svelte-7euyx0"> </span></button>'),xt=b('<div class="word-grid svelte-7euyx0"></div>'),bt=b('<span class="saved-item svelte-7euyx0"> </span>'),yt=b('<div class="saved-strip svelte-7euyx0"><button class="saved-content svelte-7euyx0"></button> <button class="saved-speak svelte-7euyx0">üîä</button> <button class="saved-delete svelte-7euyx0">üóëÔ∏è</button></div>'),mt=b('<section class="saved"><h2 class="svelte-7euyx0"> </h2> <!></section>'),ht=b('<!> <div class="app svelte-7euyx0"><header class="hdr svelte-7euyx0"><button class="back svelte-7euyx0">‚Üê</button> <h1 class="svelte-7euyx0"> </h1> <div class="phase-select svelte-7euyx0"><label> </label> <select class="svelte-7euyx0"><option>IV</option><option>V</option><option>VI</option></select></div></header> <main class="cnt svelte-7euyx0"><section class="strip-area svelte-7euyx0"><div class="strip svelte-7euyx0" role="list"><!></div> <!></section> <section class="starters"><h2 class="svelte-7euyx0"> </h2> <div class="starter-grid svelte-7euyx0"></div></section> <section class="categories"><h2 class="svelte-7euyx0"> </h2> <div class="cat-tabs svelte-7euyx0"></div> <!></section> <!></main> <footer class="cr svelte-7euyx0"><p>PECS¬Æ (Frost & Bondy) ¬∑ ARASAAC (CC BY-NC-SA) ¬∑ Autismappar</p></footer></div>',1);function Rt(de,_e){Ge(_e,!0);const _=()=>at(ot,"$t",xe),[xe,be]=tt(),I={starter:"#9B59B6",verb:"#27AE60",object:"#E67E22",desc:"#3498DB"},ye=[{text:"I want",key:"sentenceStrip.iWant",phase:4},{text:"I see",key:"sentenceStrip.iSee",phase:6},{text:"I hear",key:"sentenceStrip.iHear",phase:6},{text:"I feel",key:"sentenceStrip.iFeel",phase:6},{text:"I have",key:"sentenceStrip.iHave",phase:6},{text:"I like",key:"sentenceStrip.iLike",phase:6}],me=[{id:"food",icon:"üçé",words:["apple","banana","bread","milk","water","cookie","juice","sandwich"]},{id:"toys",icon:"üß∏",words:["ball","car","doll","puzzle","blocks","book","teddy bear","crayons"]},{id:"actions",icon:"üèÉ",words:["play","run","swim","draw","sing","dance","read","sleep"]},{id:"feelings",icon:"üòä",words:["happy","sad","angry","tired","scared","excited","calm","hungry"]},{id:"places",icon:"üè†",words:["home","school","park","store","bathroom","kitchen","outside","bed"]}];let u=A(ee([])),B=A(null),N=A(ee([])),U=A(!1),k=A(ee(he())),z=A(6);function he(){try{const e=localStorage.getItem("sentence-strips");return e?JSON.parse(e):[]}catch{return[]}}function te(){localStorage.setItem("sentence-strips",JSON.stringify(t(k)))}async function fe(e){h(B,e,!0),h(U,!0),h(N,await Promise.all(e.words.map(async a=>{const s=await ue(a,"en"),n=await ue(a,"sv");return{word:a,wordSv:n?.[0]?.keyword||a,url:s[0]?.url||""}})),!0),h(U,!1)}function ge(e){const a=_()(e.key);h(u,[...t(u),{text:a,pictogramUrl:"",color:I.starter,type:"starter"}],!0),W(a)}function Se(e){const s=ve(pe)==="sv"?e.wordSv:e.word,n=t(B)?.id==="actions"?I.verb:t(B)?.id==="feelings"?I.desc:I.object;h(u,[...t(u),{text:s,pictogramUrl:e.url,color:n,type:"word"}],!0),W(s)}function ke(e){h(u,t(u).filter((a,s)=>s!==e),!0)}function we(){t(u).length>0&&W(t(u).map(e=>e.text).join(" "))}function $e(){h(u,[],!0)}function Ie(){t(u).length>0&&(h(k,[...t(k),[...t(u)]],!0),te())}function Ae(e){h(k,t(k).filter((a,s)=>s!==e),!0),te()}function Ce(e){h(u,[...e],!0)}const Ee=Me(()=>ye.filter(e=>e.phase<=t(z)));var ae=ht(),se=ce(ae);rt(se,{appId:"sentence-strip",titleKey:"app.sentence_strip",purposeKey:"welcome.sentenceStrip.purpose",howKey:"welcome.sentenceStrip.how",goalKey:"welcome.sentenceStrip.goal",icon:"üìã"});var O=i(se,2),T=o(O),V=o(T),D=i(V,2),je=o(D);r(D);var re=i(D,2),H=o(re),Pe=o(H);r(H);var J=i(H,2),q=o(J);q.value=q.__value=4;var G=i(q);G.value=G.__value=5;var oe=i(G);oe.value=oe.__value=6,r(J),r(re),r(T);var ne=i(T,2),F=o(ne),L=o(F),Be=o(L);{var Fe=e=>{var a=nt(),s=o(a,!0);r(a),m(n=>p(s,n),[()=>_()("sentenceStrip.hint")]),d(e,a)},Ke=e=>{var a=qe(),s=ce(a);E(s,17,()=>t(u),j,(n,l,v)=>{var c=it(),y=o(c);{var f=P=>{var w=lt();m(()=>{$(w,"src",t(l).pictogramUrl),$(w,"alt",t(l).text)}),d(P,w)};C(y,P=>{t(l).pictogramUrl&&P(f)})}var x=i(y,2),S=o(x,!0);r(x),r(c),m(()=>{R(c,`border-color: ${t(l).color??""}; background: ${t(l).color??""}15`),$(c,"aria-label",t(l).text),R(x,`color: ${t(l).color??""}`),p(S,t(l).text)}),g("click",c,()=>ke(v)),d(n,c)}),d(e,a)};C(Be,e=>{t(u).length===0?e(Fe):e(Ke,!1)})}r(L);var Re=i(L,2);{var We=e=>{var a=ct(),s=o(a),n=o(s);r(s);var l=i(s,2),v=o(l);r(l);var c=i(l,2);r(a),m((y,f)=>{p(n,`üîä ${y??""}`),p(v,`üíæ ${f??""}`)},[()=>_()("sentenceStrip.speak"),()=>_()("sentenceStrip.save")]),g("click",s,we),g("click",l,Ie),g("click",c,$e),d(e,a)};C(Re,e=>{t(u).length>0&&e(We)})}r(F);var Y=i(F,2),M=o(Y),Ne=o(M,!0);r(M);var le=i(M,2);E(le,21,()=>t(Ee),j,(e,a)=>{var s=vt(),n=o(s),l=o(n,!0);r(n);var v=i(n,2),c=o(v);r(v),r(s),m(y=>{R(s,`background: ${I.starter}20; border-color: ${I.starter}`),p(l,y),p(c,`Fas ${t(a).phase??""}`)},[()=>_()(t(a).key)]),g("click",s,()=>ge(t(a))),d(e,s)}),r(le),r(Y);var Q=i(Y,2),X=o(Q),Ue=o(X,!0);r(X);var Z=i(X,2);E(Z,21,()=>me,j,(e,a)=>{var s=pt();let n;var l=o(s),v=o(l,!0);r(l);var c=i(l,2),y=o(c,!0);r(c),r(s),m(f=>{n=Ze(s,1,"cat-tab svelte-7euyx0",null,n,{active:t(B)?.id===t(a).id}),p(v,t(a).icon),p(y,f)},[()=>_()(`sentenceStrip.cat.${t(a).id}`)]),g("click",s,()=>fe(t(a))),d(e,s)}),r(Z);var ze=i(Z,2);{var Oe=e=>{var a=ut(),s=o(a);r(a),m(n=>p(s,`‚è≥ ${n??""}`),[()=>_()("sentenceStrip.loading")]),d(e,a)},Te=e=>{var a=xt();E(a,21,()=>t(N),j,(s,n)=>{var l=_t(),v=o(l);{var c=x=>{var S=dt();m(()=>{$(S,"src",t(n).url),$(S,"alt",t(n).word)}),d(x,S)};C(v,x=>{t(n).url&&x(c)})}var y=i(v,2),f=o(y,!0);r(y),r(l),m(x=>p(f,x),[()=>ve(pe)==="sv"?t(n).wordSv:t(n).word]),g("click",l,()=>Se(t(n))),d(s,l)}),r(a),d(e,a)};C(ze,e=>{t(U)?e(Oe):t(N).length>0&&e(Te,1)})}r(Q);var Ve=i(Q,2);{var De=e=>{var a=mt(),s=o(a),n=o(s,!0);r(s);var l=i(s,2);E(l,17,()=>t(k),j,(v,c,y)=>{var f=yt(),x=o(f);E(x,21,()=>t(c),j,(w,ie)=>{var K=bt(),He=o(K,!0);r(K),m(()=>{R(K,`color: ${t(ie).color??""}`),p(He,t(ie).text)}),d(w,K)}),r(x);var S=i(x,2),P=i(S,2);r(f),g("click",x,()=>Ce(t(c))),g("click",S,()=>W(t(c).map(w=>w.text).join(" "))),g("click",P,()=>Ae(y)),d(v,f)}),r(a),m(v=>p(n,v),[()=>_()("sentenceStrip.saved")]),d(e,a)};C(Ve,e=>{t(k).length>0&&e(De)})}r(ne),Ye(2),r(O),m((e,a,s,n,l,v)=>{$(V,"aria-label",e),p(je,`üìã ${a??""}`),p(Pe,`${s??""}:`),$(F,"aria-label",n),p(Ne,l),p(Ue,v)},[()=>_()("app.back"),()=>_()("sentenceStrip.title"),()=>_()("sentenceStrip.phase"),()=>_()("sentenceStrip.strip"),()=>_()("sentenceStrip.starters"),()=>_()("sentenceStrip.pickWord")]),g("click",V,()=>st("/")),et(J,()=>t(z),e=>h(z,e)),Qe(1,O,()=>Xe),d(de,ae),Le(),be()}Je(["click"]);export{Rt as component};
