import{d as Pa,a as f,b as k,s as d,f as $}from"../chunks/Rl5oAaZp.js";import{ag as Ta,an as z,ah as x,ai as Aa,a,s as n,ao as A,aj as o,ak as t,al as e,am as Da,as as Ea,ar as oa}from"../chunks/5-o2xn5F.js";import{i as na}from"../chunks/CV8532PG.js";import{e as ta,i as ra}from"../chunks/CWjGmADL.js";import{t as G,f as la,a as Ia}from"../chunks/CYPR1nOs.js";import{r as ja}from"../chunks/mnwxxtgv.js";import{s as ia}from"../chunks/tEQK-CCT.js";import{b as Ba}from"../chunks/Ch1I3Fei.js";import{s as Fa,a as Na}from"../chunks/1mwIFy_z.js";import{g as Ra}from"../chunks/C7HAlxDp.js";import{W as Ua}from"../chunks/BIf6fDbj.js";import{t as Va}from"../chunks/D-IBFiEI.js";import{s as F}from"../chunks/TeHBZhWf.js";var Ya=$('<button class="level-card svelte-2mby5h"><span class="level-num svelte-2mby5h"></span> <span class="level-name svelte-2mby5h"> </span> <span class="level-count svelte-2mby5h"> </span></button>'),qa=$('<p class="intro svelte-2mby5h"> </p> <div class="levels svelte-2mby5h"></div>',1),za=$('<div class="celebration svelte-2mby5h"><span class="trophy svelte-2mby5h">üèÜ</span> <p class="svelte-2mby5h"> </p> <button class="btn svelte-2mby5h"> </button></div>'),Ga=$("<span>üîó</span>"),Ha=$('<button><span class="link-sound svelte-2mby5h"> </span></button> <!>',1),Ja=$('<div class="chain-view svelte-2mby5h"><div class="speed-control svelte-2mby5h"><label class="svelte-2mby5h"> </label> <input type="range" min="0.4" max="1.0" step="0.1" class="svelte-2mby5h"/></div> <div class="progress-bar svelte-2mby5h"><span class="svelte-2mby5h"> </span></div> <div class="word-icon svelte-2mby5h"> </div> <div class="chain-links svelte-2mby5h"></div> <div class="actions svelte-2mby5h"><button class="btn chain-btn svelte-2mby5h"> </button> <button class="btn word-btn svelte-2mby5h"> </button></div> <div class="nav-btns svelte-2mby5h"><button class="nav svelte-2mby5h">‚¨ÖÔ∏è</button> <button class="nav next svelte-2mby5h">‚û°Ô∏è</button></div></div>'),Ma=$('<!> <div class="app svelte-2mby5h"><header class="hdr svelte-2mby5h"><button class="back svelte-2mby5h">‚Üê</button> <h1 class="svelte-2mby5h"> </h1></header> <main class="cnt svelte-2mby5h"><!></main> <footer class="cr svelte-2mby5h"><p class="svelte-2mby5h">Autismappar ¬∑ CC BY-NC-SA 4.0</p></footer></div>',1);function ds(da,va){Ta(va,!0);const u=()=>Na(Va,"$t",ua),[ua,ca]=Fa(),ha=[{id:"vowels",labelKey:"soundChain.level.vowels",chains:[{sounds:["a"],word:"a",wordKey:"soundChain.word.a",icon:"üÖ∞Ô∏è"},{sounds:["o"],word:"o",wordKey:"soundChain.word.o",icon:"‚≠ï"},{sounds:["a","o"],word:"ao",wordKey:"soundChain.word.ao",icon:"üîó"},{sounds:["i","a"],word:"ia",wordKey:"soundChain.word.ia",icon:"üîó"},{sounds:["u","e"],word:"ue",wordKey:"soundChain.word.ue",icon:"üîó"}]},{id:"cv",labelKey:"soundChain.level.cv",chains:[{sounds:["m","a"],word:"ma",wordKey:"soundChain.word.ma",icon:"üë©"},{sounds:["p","a"],word:"pa",wordKey:"soundChain.word.pa",icon:"üë®"},{sounds:["b","a"],word:"ba",wordKey:"soundChain.word.ba",icon:"üë∂"},{sounds:["m","o"],word:"mo",wordKey:"soundChain.word.mo",icon:"üåô"},{sounds:["s","o"],word:"so",wordKey:"soundChain.word.so",icon:"‚òÄÔ∏è"}]},{id:"cvc",labelKey:"soundChain.level.cvc",chains:[{sounds:["m","a","t"],word:"mat",wordKey:"soundChain.word.mat",icon:"üçï"},{sounds:["b","i","l"],word:"bil",wordKey:"soundChain.word.bil",icon:"üöó"},{sounds:["s","o","l"],word:"sol",wordKey:"soundChain.word.sol",icon:"‚òÄÔ∏è"},{sounds:["h","u","s"],word:"hus",wordKey:"soundChain.word.hus",icon:"üè†"},{sounds:["k","a","t","t"],word:"katt",wordKey:"soundChain.word.katt",icon:"üê±"}]},{id:"words",labelKey:"soundChain.level.words",chains:[{sounds:["m","a","m","a"],word:"mama",wordKey:"soundChain.word.mama",icon:"üë©"},{sounds:["p","a","p","a"],word:"papa",wordKey:"soundChain.word.papa",icon:"üë®"},{sounds:["b","a","n","a","n"],word:"banan",wordKey:"soundChain.word.banan",icon:"üçå"},{sounds:["l","a","m","p","a"],word:"lampa",wordKey:"soundChain.word.lampa",icon:"üí°"},{sounds:["b","o","l","l"],word:"boll",wordKey:"soundChain.word.boll",icon:"‚öΩ"}]}];let c=A(null),b=A(0),h=A(0),r=A(!1),p=A(.5),D=A(!1);const l=Ea(()=>a(c)?a(c).chains[a(b)]:null);function ma(s){n(c,s,!0),n(b,0),n(h,0),F(u()(s.labelKey),{rate:a(p)})}async function ba(s){!a(l)||a(r)||(n(r,!0),await F(a(l).sounds[s],{rate:a(p)}),s>=a(h)&&n(h,s+1),n(r,!1))}async function pa(){if(!(!a(l)||a(r))){n(r,!0);for(let s=0;s<a(l).sounds.length;s++)n(h,s+1),await F(a(l).sounds[s],{rate:a(p)}),await new Promise(i=>setTimeout(i,600));await new Promise(s=>setTimeout(s,400)),await F(a(l).word,{rate:a(p)}),n(r,!1)}}async function wa(){!a(l)||a(r)||(n(r,!0),n(h,a(l).sounds.length,!0),await F(a(l).word,{rate:a(p)}),n(r,!1))}function ya(){a(c)&&(a(b)<a(c).chains.length-1?(oa(b),n(h,0),n(D,!1)):n(D,!0))}function _a(){a(b)>0&&(oa(b,-1),n(h,0))}var H=Ma(),J=z(H);Ua(J,{appId:"sound-chain",titleKey:"app.sound_chain",purposeKey:"welcome.soundChain.purpose",howKey:"welcome.soundChain.how",goalKey:"welcome.soundChain.goal",icon:"üîó"});var R=t(J,2),U=o(R),M=o(U),O=t(M,2),fa=o(O);e(O),e(U);var Q=t(U,2),Ca=o(Q);{var Ka=s=>{var i=qa(),v=z(i),C=o(v,!0);e(v);var w=t(v,2);ta(w,21,()=>ha,ra,(y,m,L)=>{var S=Ya(),W=o(S);W.textContent=L+1;var E=t(W,2),I=o(E,!0);e(E);var P=t(E,2),K=o(P);e(P),e(S),x((V,T)=>{d(I,V),d(K,`${a(m).chains.length??""} ${T??""}`)},[()=>u()(a(m).labelKey),()=>u()("soundChain.chains")]),f("click",S,()=>ma(a(m))),k(y,S)}),e(w),x(y=>d(C,y),[()=>u()("soundChain.intro")]),k(s,i)},ga=s=>{var i=za(),v=t(o(i),2),C=o(v,!0);e(v);var w=t(v,2),y=o(w,!0);e(w),e(i),x((m,L)=>{d(C,m),d(y,L)},[()=>u()("soundChain.levelDone"),()=>u()("soundChain.backToLevels")]),f("click",w,()=>{n(c,null),n(D,!1)}),G(3,i,()=>la),k(s,i)},ka=s=>{var i=Ja(),v=o(i),C=o(v),w=o(C);e(C);var y=t(C,2);ja(y),e(v);var m=t(v,2),L=o(m),S=o(L);e(L),e(m);var W=t(m,2),E=o(W,!0);e(W);var I=t(W,2);ta(I,21,()=>a(l).sounds,ra,(j,q,_)=>{var N=Ha(),g=z(N);let Z;var aa=o(g),La=o(aa,!0);e(aa),e(g);var Sa=t(g,2);{var Wa=B=>{var sa=Ga();let ea;x(()=>ea=ia(sa,1,"connector svelte-2mby5h",null,ea,{connected:_<a(h)-1})),k(B,sa)};na(Sa,B=>{_<a(l).sounds.length-1&&B(Wa)})}x(B=>{Z=ia(g,1,"link svelte-2mby5h",null,Z,{linked:_<a(h),playing:a(r)&&_===a(h)-1}),g.disabled=a(r),d(La,B)},[()=>a(q).toUpperCase()]),f("click",g,()=>ba(_)),G(3,g,()=>Ia,()=>({x:-20,delay:_*100})),k(j,N)}),e(I);var P=t(I,2),K=o(P),V=o(K);e(K);var T=t(K,2),xa=o(T);e(T),e(P);var X=t(P,2),Y=o(X),$a=t(Y,2);e(X),e(i),x((j,q,_,N)=>{d(w,`${j??""}: ${q??""}x`),d(S,`${a(b)+1} / ${a(c).chains.length??""}`),d(E,a(l).icon),K.disabled=a(r),d(V,`‚õìÔ∏è ${_??""}`),T.disabled=a(r),d(xa,`üí¨ ${N??""}`),Y.disabled=a(b)===0},[()=>u()("soundChain.speed"),()=>a(p).toFixed(1),()=>u()("soundChain.playChain"),()=>u()("soundChain.sayWord")]),Ba(y,()=>a(p),j=>n(p,j)),f("click",K,pa),f("click",T,wa),f("click",Y,_a),f("click",$a,ya),k(s,i)};na(Ca,s=>{a(c)?a(D)?s(ga,1):a(l)&&s(ka,2):s(Ka)})}e(Q),Da(2),e(R),x(s=>d(fa,`üîó ${s??""}`),[()=>u()("soundChain.title")]),f("click",M,()=>a(c)?(n(c,null),n(D,!1)):Ra("/")),G(1,R,()=>la),k(da,H),Aa(),ca()}Pa(["click"]);export{ds as component};
