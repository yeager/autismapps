import{d as Pt,a as P,b as L,s as c,f as S}from"../chunks/Rl5oAaZp.js";import{ag as zt,ao as p,b as Bt,an as it,ah as $,ai as Dt,a as t,s as o,aj as s,ak as i,al as e,am as ct,ar as dt}from"../chunks/5-o2xn5F.js";import{i as Q}from"../chunks/CV8532PG.js";import{e as vt,i as pt}from"../chunks/CWjGmADL.js";import{t as It,f as Nt}from"../chunks/CYPR1nOs.js";import{s as U}from"../chunks/tEQK-CCT.js";import{s as X}from"../chunks/CttGtDdq.js";import{s as Rt,a as Tt}from"../chunks/1mwIFy_z.js";import{g as Ct}from"../chunks/C7HAlxDp.js";import{W as Vt}from"../chunks/BIf6fDbj.js";import{t as At}from"../chunks/D-IBFiEI.js";import{s as ut}from"../chunks/TeHBZhWf.js";var Et=S('<div class="wheel-segment svelte-c4lctp"><span> </span></div>'),Ft=S('<p class="intro svelte-c4lctp"> </p> <div class="wheel-container svelte-c4lctp"><div class="wheel svelte-c4lctp"></div> <div class="wheel-pointer svelte-c4lctp">‚ñº</div></div> <button class="btn spin-btn svelte-c4lctp"> </button> <div class="progress-bar svelte-c4lctp"><span> </span> <div class="bar svelte-c4lctp"><div class="bar-fill svelte-c4lctp"></div></div> <span class="total-reps svelte-c4lctp"> </span></div>',1),Gt=S("<button> </button>"),Ot=S('<button class="btn next-in-level svelte-c4lctp"> </button>'),Wt=S('<button class="btn advance-btn svelte-c4lctp"> </button>'),Ht=S('<div class="practice svelte-c4lctp"><div class="phoneme-header svelte-c4lctp"><span class="big-sound svelte-c4lctp"> </span></div> <div class="level-tabs svelte-c4lctp"></div> <div class="target-display svelte-c4lctp"><span class="target-icon svelte-c4lctp"> </span> <span> </span> <span class="rep-count svelte-c4lctp"> </span></div> <div class="actions svelte-c4lctp"><button class="btn listen-btn svelte-c4lctp"> </button> <!></div> <!></div>'),Yt=S('<!> <div class="app svelte-c4lctp"><header class="hdr svelte-c4lctp"><button class="back svelte-c4lctp">‚Üê</button> <h1 class="svelte-c4lctp"> </h1></header> <main class="cnt svelte-c4lctp"><!></main> <footer class="cr svelte-c4lctp"><p>Autismappar ¬∑ CC BY-NC-SA 4.0</p></footer></div>',1);function le(xt,mt){zt(mt,!0);const u=()=>Tt(At,"$t",ft),[ft,bt]=Rt(),y=[{sound:"B",isolation:"b",syllables:["ba","be","bi","bo","bu","b√•"],words:[{text:"boll",icon:"‚öΩ"},{text:"banan",icon:"üçå"},{text:"bil",icon:"üöó"},{text:"bok",icon:"üìñ"}],sentences:["Bollen √§r bl√•.","Bilen k√∂r fort.","Barnet badar."]},{sound:"D",isolation:"d",syllables:["da","de","di","do","du","d√•"],words:[{text:"d√∂rr",icon:"üö™"},{text:"docka",icon:"üß∏"},{text:"drake",icon:"üêâ"},{text:"duva",icon:"üïäÔ∏è"}],sentences:["D√∂rren √§r √∂ppen.","Dockan dansar.","Draken flyger."]},{sound:"F",isolation:"fff",syllables:["fa","fe","fi","fo","fu","f√•"],words:[{text:"fisk",icon:"üêü"},{text:"fj√§ril",icon:"ü¶ã"},{text:"f√•gel",icon:"üê¶"},{text:"flaska",icon:"üç∂"}],sentences:["Fisken simmar.","Fj√§rilen flyger.","F√•geln sjunger."]},{sound:"G",isolation:"g",syllables:["ga","ge","gi","go","gu","g√•"],words:[{text:"glass",icon:"üç¶"},{text:"gris",icon:"üê∑"},{text:"groda",icon:"üê∏"},{text:"gul",icon:"üü°"}],sentences:["Glassen √§r god.","Grisen grymtar.","Grodan hoppar."]},{sound:"K",isolation:"k",syllables:["ka","ke","ki","ko","ku","k√•"],words:[{text:"katt",icon:"üê±"},{text:"ko",icon:"üêÑ"},{text:"kaka",icon:"üç∞"},{text:"kanin",icon:"üê∞"}],sentences:["Katten sover.","Kon √§ter gr√§s.","Kakan √§r god."]},{sound:"L",isolation:"lll",syllables:["la","le","li","lo","lu","l√•"],words:[{text:"lejon",icon:"ü¶Å"},{text:"lampa",icon:"üí°"},{text:"l√∂k",icon:"üßÖ"},{text:"l√•da",icon:"üì¶"}],sentences:["Lejonet lever.","Lampan lyser.","L√•dan √§r stor."]},{sound:"M",isolation:"mmm",syllables:["ma","me","mi","mo","mu","m√•"],words:[{text:"mus",icon:"üê≠"},{text:"mamma",icon:"üë©"},{text:"mat",icon:"üçï"},{text:"m√•ne",icon:"üåô"}],sentences:["Musen springer.","Mamma lagar mat.","M√•nen lyser."]},{sound:"N",isolation:"nnn",syllables:["na","ne","ni","no","nu","n√•"],words:[{text:"n√§sa",icon:"üëÉ"},{text:"nalle",icon:"üß∏"},{text:"nycklar",icon:"üîë"},{text:"natt",icon:"üåô"}],sentences:["Nallen √§r mjuk.","Natten √§r m√∂rk.","Nyckeln passar."]},{sound:"P",isolation:"p",syllables:["pa","pe","pi","po","pu","p√•"],words:[{text:"pappa",icon:"üë®"},{text:"pizza",icon:"üçï"},{text:"pil",icon:"‚û°Ô∏è"},{text:"polis",icon:"üëÆ"}],sentences:["Pappa l√§ser.","Pizzan √§r varm.","Polisen hj√§lper."]},{sound:"R",isolation:"rrr",syllables:["ra","re","ri","ro","ru","r√•"],words:[{text:"robot",icon:"ü§ñ"},{text:"raket",icon:"üöÄ"},{text:"ris",icon:"üçö"},{text:"ring",icon:"üíç"}],sentences:["Roboten r√∂r sig.","Raketen flyger.","Ringen √§r rund."]},{sound:"S",isolation:"sss",syllables:["sa","se","si","so","su","s√•"],words:[{text:"sol",icon:"‚òÄÔ∏è"},{text:"sko",icon:"üëü"},{text:"svan",icon:"ü¶¢"},{text:"s√§ng",icon:"üõèÔ∏è"}],sentences:["Solen skiner.","Skon √§r ny.","Svanen simmar."]},{sound:"T",isolation:"t",syllables:["ta","te","ti","to","tu","t√•"],words:[{text:"t√•g",icon:"üöÇ"},{text:"tiger",icon:"üêØ"},{text:"tomat",icon:"üçÖ"},{text:"tr√§d",icon:"üå≥"}],sentences:["T√•get kommer.","Tigern smyger.","Tr√§det √§r gr√∂nt."]},{sound:"V",isolation:"vvv",syllables:["va","ve","vi","vo","vu","v√•"],words:[{text:"val",icon:"üê≥"},{text:"vatten",icon:"üíß"},{text:"varg",icon:"üê∫"},{text:"vind",icon:"üí®"}],sentences:["Valen simmar.","Vattnet rinner.","Vinden bl√•ser."]}],h=["isolation","syllable","word","sentence"];let z=p(!1),a=p(null),l=p("isolation"),B=p(0),D=p(0),I=p(0),j=p(0),F=p(!1),Z=p(0),N=p(Bt(new Set)),tt=p(0);async function gt(){if(t(z))return;o(z,!0),o(j,0),o(l,"isolation"),o(B,0),o(D,0),o(I,0);const n=3+Math.random()*3,x=Math.floor(Math.random()*y.length),m=n*360+x/y.length*360;o(Z,m),await new Promise(K=>setTimeout(K,2e3)),o(a,y[x],!0),o(z,!1),await ut(t(a).isolation,{rate:.6})}async function _t(){if(!t(a)||t(F))return;o(F,!0);let n="";t(l)==="isolation"?n=t(a).isolation:t(l)==="syllable"?n=t(a).syllables[t(B)]:t(l)==="word"?n=t(a).words[t(D)].text:n=t(a).sentences[t(I)],await ut(n,{rate:t(l)==="isolation"?.5:.7}),dt(j),dt(tt),o(F,!1)}function yt(){t(a)&&(t(l)==="syllable"?o(B,(t(B)+1)%t(a).syllables.length):t(l)==="word"?o(D,(t(D)+1)%t(a).words.length):t(l)==="sentence"&&o(I,(t(I)+1)%t(a).sentences.length))}function ht(){const n=h.indexOf(t(l));n<h.length-1?(o(l,h[n+1],!0),o(j,0)):t(a)&&o(N,new Set([...t(N),t(a).sound]),!0)}function kt(n){return u()(`soundLottery.level.${n}`)}function et(){if(!t(a))return{text:"",icon:""};if(t(l)==="isolation")return{text:t(a).isolation,icon:"üî§"};if(t(l)==="syllable")return{text:t(a).syllables[t(B)],icon:"üî°"};if(t(l)==="word"){const n=t(a).words[t(D)];return{text:n.text,icon:n.icon}}return{text:t(a).sentences[t(I)],icon:"üí¨"}}var st=Yt(),nt=it(st);Vt(nt,{appId:"sound-lottery",titleKey:"app.sound_lottery",purposeKey:"welcome.soundLottery.purpose",howKey:"welcome.soundLottery.how",goalKey:"welcome.soundLottery.goal",icon:"üé∞"});var q=i(nt,2),J=s(q),at=s(J),ot=i(at,2),wt=s(ot);e(ot),e(J);var lt=i(J,2),Lt=s(lt);{var $t=n=>{var x=Ft(),m=it(x),K=s(m,!0);e(m);var R=i(m,2),k=s(R);vt(k,21,()=>y,pt,(b,M,A)=>{var _=Et(),E=s(_);let Y;var d=s(E,!0);e(E),e(_),$(r=>{X(_,`transform: rotate(${A*(360/y.length)}deg)`),Y=U(E,1,"segment-letter svelte-c4lctp",null,Y,r),c(d,t(M).sound)},[()=>({mastered:t(N).has(t(M).sound)})]),L(b,_)}),e(k),ct(2),e(R);var f=i(R,2),T=s(f,!0);e(f);var G=i(f,2),g=s(G),O=s(g);e(g);var C=i(g,2),W=s(C);e(C);var H=i(C,2),V=s(H);e(H),e(G),$((b,M,A,_)=>{c(K,b),X(k,`transform: rotate(${t(Z)??""}deg)`),f.disabled=t(z),c(T,M),c(O,`${A??""}: ${t(N).size??""}/${y.length??""}`),X(W,`width: ${t(N).size/y.length*100}%`),c(V,`${_??""}: ${t(tt)??""}`)},[()=>u()("soundLottery.intro"),()=>t(z)?"üé° ...":`üé∞ ${u()("soundLottery.spin")}`,()=>u()("soundLottery.mastered"),()=>u()("soundLottery.reps")]),P("click",f,gt),L(n,x)},St=n=>{var x=Ht(),m=s(x),K=s(m),R=s(K,!0);e(K),e(m);var k=i(m,2);vt(k,21,()=>h,pt,(d,r,w)=>{var v=Gt();let rt;var jt=s(v,!0);e(v),$((Kt,Mt)=>{rt=U(v,1,"level-tab svelte-c4lctp",null,rt,Kt),c(jt,Mt)},[()=>({active:t(l)===t(r),completed:h.indexOf(t(l))>w}),()=>kt(t(r))]),P("click",v,()=>{o(l,t(r),!0),o(j,0)}),L(d,v)}),e(k);var f=i(k,2),T=s(f),G=s(T,!0);e(T);var g=i(T,2);let O;var C=s(g,!0);e(g);var W=i(g,2),H=s(W);e(W),e(f);var V=i(f,2),b=s(V),M=s(b);e(b);var A=i(b,2);{var _=d=>{var r=Ot(),w=s(r);e(r),$(v=>c(w,`üîÄ ${v??""}`),[()=>u()("speechRhythm.next")]),P("click",r,yt),L(d,r)};Q(A,d=>{t(l)!=="isolation"&&d(_)})}e(V);var E=i(V,2);{var Y=d=>{var r=Wt(),w=s(r,!0);e(r),$(v=>c(w,v),[()=>h.indexOf(t(l))<h.length-1?`‚¨ÜÔ∏è ${u()("soundLottery.next")}`:"‚≠ê Bem√§strad!"]),P("click",r,ht),L(d,r)};Q(E,d=>{t(j)>=3&&d(Y)})}e(x),$((d,r,w,v)=>{c(R,t(a).sound),c(G,d),O=U(g,1,"target-text svelte-c4lctp",null,O,{sentence:t(l)==="sentence"}),c(C,r),c(H,`${w??""}: ${t(j)??""}`),b.disabled=t(F),c(M,`üîä ${v??""}`)},[()=>et().icon,()=>et().text,()=>u()("soundLottery.reps"),()=>u()("soundLottery.listen")]),P("click",b,_t),L(n,x)};Q(Lt,n=>{t(a)?n(St,!1):n($t)})}e(lt),ct(2),e(q),$(n=>c(wt,`üé∞ ${n??""}`),[()=>u()("soundLottery.title")]),P("click",at,()=>t(a)?o(a,null):Ct("/")),It(1,q,()=>Nt),L(xt,st),Dt(),bt()}Pt(["click"]);export{le as component};
