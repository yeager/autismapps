import{d as Lt,a as k,b as O,s as r,f as W}from"../chunks/Rl5oAaZp.js";import{ag as qt,ao as I,b as Ft,an as _t,ah as P,ai as Vt,a as t,s as l,aj as s,ak as a,al as e,am as Yt,as as xt,ar as yt}from"../chunks/5-o2xn5F.js";import{i as nt}from"../chunks/CV8532PG.js";import{e as U,i as Q}from"../chunks/CWjGmADL.js";import{t as jt,f as zt}from"../chunks/CYPR1nOs.js";import{r as Et}from"../chunks/mnwxxtgv.js";import{s as X}from"../chunks/tEQK-CCT.js";import{s as Gt}from"../chunks/CttGtDdq.js";import{b as Jt}from"../chunks/Ch1I3Fei.js";import{s as Ut,a as Qt}from"../chunks/1mwIFy_z.js";import{g as Xt}from"../chunks/C7HAlxDp.js";import{W as Zt}from"../chunks/BIf6fDbj.js";import{t as te}from"../chunks/D-IBFiEI.js";import{s as ft}from"../chunks/TeHBZhWf.js";var ee=W('<span class="score-badge svelte-labhbr"> </span>'),se=W('<p class="intro svelte-labhbr"> </p> <div class="modes svelte-labhbr"><button class="mode-card tap-bg svelte-labhbr"><span class="mode-icon svelte-labhbr">ü•Å</span> <span class="mode-name svelte-labhbr"> </span> <span class="mode-desc svelte-labhbr"> </span></button> <button class="mode-card stress-bg svelte-labhbr"><span class="mode-icon svelte-labhbr">üí™</span> <span class="mode-name svelte-labhbr"> </span> <span class="mode-desc svelte-labhbr"> </span></button> <button class="mode-card intonation-bg svelte-labhbr"><span class="mode-icon svelte-labhbr">üé∂</span> <span class="mode-name svelte-labhbr"> </span> <span class="mode-desc svelte-labhbr"> </span></button></div>',1),ae=W("<span> </span>"),re=W("<div></div>"),le=W('<div class="exercise svelte-labhbr"><div class="word-display svelte-labhbr"><span class="word-icon svelte-labhbr"> </span> <span class="word-text svelte-labhbr"> </span> <div class="syllable-boxes svelte-labhbr"></div></div> <button class="btn listen-btn svelte-labhbr"> </button> <div class="metronome svelte-labhbr"><div class="tempo-control svelte-labhbr"><label class="svelte-labhbr"> </label> <input type="range" min="40" max="120" step="10" class="svelte-labhbr"/></div> <div class="metro-dots svelte-labhbr"></div> <button class="btn metro-btn svelte-labhbr"> </button></div> <button class="tap-area svelte-labhbr">ü•Å<span class="tap-count svelte-labhbr"> </span></button> <button class="btn next-btn svelte-labhbr"> </button></div>'),ne=W("<button> </button>"),oe=W("<p> </p>"),ce=W('<div class="exercise svelte-labhbr"><div class="word-display svelte-labhbr"><span class="word-icon svelte-labhbr"> </span> <span class="word-text svelte-labhbr"> </span></div> <button class="btn listen-btn svelte-labhbr"> </button> <p class="instruction svelte-labhbr"> </p> <div class="syllable-picker svelte-labhbr"></div> <!> <div class="stats svelte-labhbr"><span> </span></div> <button class="btn next-btn svelte-labhbr"> </button></div>'),ve=W('<div class="contour-bar svelte-labhbr"><span class="contour-dot svelte-labhbr"></span></div>'),ie=W('<div class="exercise svelte-labhbr"><div class="word-display svelte-labhbr"><span class="word-icon svelte-labhbr"> </span> <span class="word-text intonation-text svelte-labhbr"> </span> <span class="type-badge svelte-labhbr"> </span></div> <div class="contour-viz svelte-labhbr"></div> <p class="instruction svelte-labhbr"> </p> <button class="btn listen-btn svelte-labhbr"> </button> <button class="btn next-btn svelte-labhbr"> </button></div>'),be=W('<!> <div class="app svelte-labhbr"><header class="hdr svelte-labhbr"><button class="back svelte-labhbr">‚Üê</button> <h1 class="svelte-labhbr"> </h1> <!></header> <main class="cnt svelte-labhbr"><!></main> <footer class="cr svelte-labhbr"><p>Autismappar ¬∑ CC BY-NC-SA 4.0</p></footer></div>',1);function $e(gt,kt){qt(kt,!0);const o=()=>Qt(te,"$t",It),[It,Rt]=Ut(),ot=[{text:"mamma",syllables:["MAM","ma"],stressIndex:0,icon:"üë©"},{text:"pappa",syllables:["PAP","pa"],stressIndex:0,icon:"üë®"},{text:"banan",syllables:["ba","NAN"],stressIndex:1,icon:"üçå"},{text:"telefon",syllables:["te","le","FON"],stressIndex:2,icon:"üìû"},{text:"elefant",syllables:["e","le","FANT"],stressIndex:2,icon:"üêò"},{text:"kanin",syllables:["ka","NIN"],stressIndex:1,icon:"üê∞"},{text:"krokodil",syllables:["kro","ko","DIL"],stressIndex:2,icon:"üêä"},{text:"bil",syllables:["BIL"],stressIndex:0,icon:"üöó"},{text:"hund",syllables:["HUND"],stressIndex:0,icon:"üêï"},{text:"choklad",syllables:["CHOK","lad"],stressIndex:0,icon:"üç´"},{text:"glass",syllables:["GLASS"],stressIndex:0,icon:"üç¶"},{text:"dator",syllables:["DA","tor"],stressIndex:0,icon:"üíª"},{text:"paraply",syllables:["pa","ra","PLY"],stressIndex:2,icon:"‚òÇÔ∏è"},{text:"popcorn",syllables:["POP","corn"],stressIndex:0,icon:"üçø"},{text:"fotboll",syllables:["FOT","boll"],stressIndex:0,icon:"‚öΩ"}],ct=[{text:"Det √§r en katt.",icon:"üê±",contour:[3,3,2,3,2],type:"statement"},{text:"√Ñr det en katt?",icon:"üê±",contour:[3,3,2,3,5],type:"question"},{text:"Vilken fin katt!",icon:"üê±",contour:[4,3,4,5,3],type:"exclamation"},{text:"Jag vill ha glass.",icon:"üç¶",contour:[3,3,2,3,2],type:"statement"},{text:"Vill du ha glass?",icon:"üç¶",contour:[3,2,2,3,5],type:"question"},{text:"Vad god glass!",icon:"üç¶",contour:[4,4,5,3],type:"exclamation"}];let K=I("menu"),Z=I(0),tt=I(0),E=I(80),vt=I(0),et=I(0),V=I(Ft([])),M=I(!1),z=I(!1),G=I(null),J=I(0),Y=I(null),H=I(!1);const x=xt(()=>ot[t(Z)]),j=xt(()=>ct[t(tt)]);function wt(){st(),l(z,!0),l(J,0);const n=6e4/t(E);l(G,setInterval(()=>{l(J,(t(J)+1)%4)},n),!0)}function st(){t(G)&&(clearInterval(t(G)),l(G,null)),l(z,!1)}function $t(){l(V,[...t(V),Date.now()],!0)}async function it(){t(M)||(l(M,!0),await ft(t(x).text,{rate:.7}),l(M,!1))}async function At(){t(M)||(l(M,!0),await ft(t(j).text,{rate:.7}),l(M,!1))}function Nt(n){l(Y,n,!0),l(H,!0),n===t(x).stressIndex?(yt(vt),yt(et)):l(et,0)}function bt(){l(Z,(t(Z)+1)%ot.length),l(Y,null),l(H,!1),l(V,[],!0)}function St(){l(tt,(t(tt)+1)%ct.length)}function Tt(){t(K)!=="menu"?(st(),l(K,"menu")):Xt("/")}var pt=be(),ht=_t(pt);Zt(ht,{appId:"speech-rhythm",titleKey:"app.speech_rhythm",purposeKey:"welcome.speechRhythm.purpose",howKey:"welcome.speechRhythm.how",goalKey:"welcome.speechRhythm.goal",icon:"üéµ"});var at=a(ht,2),rt=s(at),dt=s(rt),lt=a(dt,2),Dt=s(lt);e(lt);var Ot=a(lt,2);{var Pt=n=>{var c=ee(),v=s(c);e(c),P(i=>r(v,`${i??""}: ${t(vt)??""}`),[()=>o()("speechRhythm.score")]),O(n,c)};nt(Ot,n=>{t(K)!=="menu"&&n(Pt)})}e(rt);var ut=a(rt,2),Wt=s(ut);{var Kt=n=>{var c=se(),v=_t(c),i=s(v,!0);e(v);var L=a(v,2),b=s(L),B=a(s(b),2),y=s(B,!0);e(B);var R=a(B,2),T=s(R,!0);e(R),e(b);var h=a(b,2),f=a(s(h),2),d=s(f,!0);e(f);var q=a(f,2),w=s(q,!0);e(q),e(h);var $=a(h,2),g=a(s($),2),A=s(g,!0);e(g);var u=a(g,2),N=s(u,!0);e(u),e($),e(L),P((S,p,m,_,C,F,D)=>{r(i,S),r(y,p),r(T,m),r(d,_),r(w,C),r(A,F),r(N,D)},[()=>o()("speechRhythm.intro"),()=>o()("speechRhythm.mode.tap"),()=>o()("speechRhythm.tap.instruction"),()=>o()("speechRhythm.mode.stress"),()=>o()("speechRhythm.stress.instruction"),()=>o()("speechRhythm.mode.intonation"),()=>o()("speechRhythm.intonation.instruction")]),k("click",b,()=>{l(K,"tap"),l(V,[],!0)}),k("click",h,()=>{l(K,"stress"),l(Y,null),l(H,!1)}),k("click",$,()=>l(K,"intonation")),O(n,c)},Mt=n=>{var c=le(),v=s(c),i=s(v),L=s(i,!0);e(i);var b=a(i,2),B=s(b,!0);e(b);var y=a(b,2);U(y,21,()=>t(x).syllables,Q,(_,C,F)=>{var D=ae();let mt;var Ht=s(D,!0);e(D),P(()=>{mt=X(D,1,"syl-box svelte-labhbr",null,mt,{stressed:F===t(x).stressIndex}),r(Ht,t(C))}),O(_,D)}),e(y),e(v);var R=a(v,2),T=s(R);e(R);var h=a(R,2),f=s(h),d=s(f),q=s(d);e(d);var w=a(d,2);Et(w),e(f);var $=a(f,2);U($,20,()=>[0,1,2,3],Q,(_,C)=>{var F=re();let D;P(()=>D=X(F,1,"metro-dot svelte-labhbr",null,D,{active:t(z)&&t(J)===C})),O(_,F)}),e($);var g=a($,2),A=s(g,!0);e(g),e(h);var u=a(h,2),N=a(s(u)),S=s(N);e(N),e(u);var p=a(u,2),m=s(p);e(p),e(c),P((_,C,F,D)=>{r(L,t(x).icon),r(B,t(x).text),R.disabled=t(M),r(T,`üîä ${_??""}`),r(q,`${C??""}: ${t(E)??""} ${F??""}`),r(A,t(z)?"‚èπÔ∏è Stop":"‚ñ∂Ô∏è Start"),r(S,`${t(V).length??""} tapp${t(V).length!==1?"ar":""}`),r(m,`${D??""} ‚Üí`)},[()=>o()("speechRhythm.listen"),()=>o()("speechRhythm.speed"),()=>o()("speechRhythm.bpm"),()=>o()("speechRhythm.next")]),k("click",R,it),Jt(w,()=>t(E),_=>l(E,_)),k("click",g,()=>t(z)?st():wt()),k("click",u,$t),k("click",p,bt),O(n,c)},Bt=n=>{var c=ce(),v=s(c),i=s(v),L=s(i,!0);e(i);var b=a(i,2),B=s(b,!0);e(b),e(v);var y=a(v,2),R=s(y);e(y);var T=a(y,2),h=s(T,!0);e(T);var f=a(T,2);U(f,21,()=>t(x).syllables,Q,(N,S,p)=>{var m=ne();let _;var C=s(m,!0);e(m),P(()=>{_=X(m,1,"syl-btn svelte-labhbr",null,_,{correct:t(H)&&p===t(x).stressIndex,wrong:t(H)&&t(Y)===p&&p!==t(x).stressIndex}),m.disabled=t(H),r(C,t(S))}),k("click",m,()=>!t(H)&&Nt(p)),O(N,m)}),e(f);var d=a(f,2);{var q=N=>{var S=oe();let p;var m=s(S,!0);e(S),P(_=>{p=X(S,1,"result svelte-labhbr",null,p,{success:t(Y)===t(x).stressIndex}),r(m,_)},[()=>t(Y)===t(x).stressIndex?o()("speechRhythm.correct"):o()("speechRhythm.tryAgain")]),O(N,S)};nt(d,N=>{t(H)&&N(q)})}var w=a(d,2),$=s(w),g=s($);e($),e(w);var A=a(w,2),u=s(A);e(A),e(c),P((N,S,p,m)=>{r(L,t(x).icon),r(B,t(x).text),y.disabled=t(M),r(R,`üîä ${N??""}`),r(h,S),r(g,`${p??""}: ${t(et)??""} üî•`),r(u,`${m??""} ‚Üí`)},[()=>o()("speechRhythm.listen"),()=>o()("speechRhythm.stress.instruction"),()=>o()("speechRhythm.streak"),()=>o()("speechRhythm.next")]),k("click",y,it),k("click",A,bt),O(n,c)},Ct=n=>{var c=ie(),v=s(c),i=s(v),L=s(i,!0);e(i);var b=a(i,2),B=s(b,!0);e(b);var y=a(b,2),R=s(y,!0);e(y),e(v);var T=a(v,2);U(T,21,()=>t(j).contour,Q,(g,A)=>{var u=ve();P(()=>Gt(u,`height: ${t(A)*20}%; background: hsl(${200+t(A)*30}, 70%, 50%);`)),O(g,u)}),e(T);var h=a(T,2),f=s(h,!0);e(h);var d=a(h,2),q=s(d);e(d);var w=a(d,2),$=s(w);e(w),e(c),P((g,A,u)=>{r(L,t(j).icon),r(B,t(j).text),r(R,t(j).type==="question"?"‚ùì":t(j).type==="exclamation"?"‚ùó":"üìù"),r(f,g),d.disabled=t(M),r(q,`üîä ${A??""}`),r($,`${u??""} ‚Üí`)},[()=>o()("speechRhythm.intonation.instruction"),()=>o()("speechRhythm.listen"),()=>o()("speechRhythm.next")]),k("click",d,At),k("click",w,St),O(n,c)};nt(Wt,n=>{t(K)==="menu"?n(Kt):t(K)==="tap"?n(Mt,1):t(K)==="stress"?n(Bt,2):t(K)==="intonation"&&n(Ct,3)})}e(ut),Yt(2),e(at),P(n=>r(Dt,`üéµ ${n??""}`),[()=>o()("speechRhythm.title")]),k("click",dt,Tt),jt(1,at,()=>zt),O(gt,pt),Vt(),Rt()}Lt(["click"]);export{$e as component};
