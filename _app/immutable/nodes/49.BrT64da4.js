import{d as yt,a as b,b as y,s as i,f as H,g as Ht}from"../chunks/Rl5oAaZp.js";import{ag as wt,an as G,ah as K,ai as Wt,a as t,s as c,aj as s,ak as a,ao as N,al as e,am as St,ar as nt}from"../chunks/5-o2xn5F.js";import{i as U}from"../chunks/CV8532PG.js";import{e as F,i as R}from"../chunks/CWjGmADL.js";import{t as $t,f as Bt}from"../chunks/CYPR1nOs.js";import{s as it}from"../chunks/tEQK-CCT.js";import{s as Kt,a as Dt}from"../chunks/1mwIFy_z.js";import{g as jt}from"../chunks/C7HAlxDp.js";import{W as Ct}from"../chunks/BIf6fDbj.js";import{t as It}from"../chunks/D-IBFiEI.js";import{s as ct}from"../chunks/TeHBZhWf.js";var Pt=H('<button class="story-card svelte-x794oz"><span class="story-icon svelte-x794oz"> </span> <span class="story-title svelte-x794oz"> </span> <span class="story-scenes svelte-x794oz"> </span></button>'),Tt=H('<p class="intro svelte-x794oz"> </p> <div class="story-list svelte-x794oz"></div>',1),At=H("<button> </button>"),Et=H('<div class="scene-view svelte-x794oz"><div class="scene-card svelte-x794oz"><span class="scene-icon svelte-x794oz"> </span> <p class="scene-text svelte-x794oz"> </p> <span class="scene-num svelte-x794oz"> </span></div> <div class="scene-actions svelte-x794oz"><button class="btn listen-btn svelte-x794oz"> </button></div> <div class="scene-nav svelte-x794oz"><button class="btn svelte-x794oz">‚Üê</button> <button class="btn svelte-x794oz">‚Üí</button></div> <button class="btn full-story-btn svelte-x794oz"> </button> <button class="btn next-phase-btn svelte-x794oz"> </button></div>'),Mt=H('<div><span class="pf-icon svelte-x794oz"> </span> <span class="pf-num svelte-x794oz"></span></div>'),Ot=H('<div class="tell-view svelte-x794oz"><h2 class="your-turn svelte-x794oz"> </h2> <div class="picture-strip svelte-x794oz"></div> <div class="current-picture svelte-x794oz"><span class="big-icon svelte-x794oz"> </span></div> <div class="scene-nav svelte-x794oz"><button class="btn svelte-x794oz">‚Üê</button> <button class="btn svelte-x794oz">‚Üí</button></div> <button class="btn new-story-btn svelte-x794oz"> </button></div>'),Gt=H('<div class="timeline-item svelte-x794oz"><div class="timeline-num svelte-x794oz"></div> <span class="timeline-icon svelte-x794oz"> </span> <p class="timeline-text svelte-x794oz"> </p> <button class="timeline-play svelte-x794oz">üîä</button></div>'),Nt=H('<div class="order-view svelte-x794oz"><!> <button class="btn next-phase-btn svelte-x794oz"> </button></div>'),Ft=H('<div class="phase-tabs svelte-x794oz"></div> <!>',1),Rt=H('<!> <div class="app svelte-x794oz"><header class="hdr svelte-x794oz"><button class="back svelte-x794oz">‚Üê</button> <h1 class="svelte-x794oz"> </h1></header> <main class="cnt svelte-x794oz"><!></main> <footer class="cr svelte-x794oz"><p>Autismappar ¬∑ CC BY-NC-SA 4.0</p></footer></div>',1);function se(lt,vt){wt(vt,!0);const g=()=>Dt(It,"$t",pt),[pt,ut]=Kt(),xt=[{id:"morning",title:"God morgon!",icon:"üåÖ",scenes:[{icon:"üò¥",text:"Barnet sover i s√§ngen.",pictogramHint:"sleep"},{icon:"‚è∞",text:"Klockan ringer. Dags att vakna!",pictogramHint:"alarm"},{icon:"ü™•",text:"Barnet borstar t√§nderna.",pictogramHint:"brush teeth"},{icon:"ü•£",text:"Nu √§ter barnet frukost.",pictogramHint:"eat breakfast"},{icon:"üòä",text:"Barnet √§r redo f√∂r dagen!",pictogramHint:"happy"}]},{id:"park",title:"I parken",icon:"üèûÔ∏è",scenes:[{icon:"üö∂",text:"Barnet g√•r till parken.",pictogramHint:"walk"},{icon:"üêï",text:"En hund springer f√∂rbi.",pictogramHint:"dog"},{icon:"üéà",text:"Barnet ser en ballong.",pictogramHint:"balloon"},{icon:"üç¶",text:"Mamma k√∂per glass.",pictogramHint:"ice cream"},{icon:"üè†",text:"De g√•r hem igen.",pictogramHint:"home"}]},{id:"rain",title:"Det regnar!",icon:"üåßÔ∏è",scenes:[{icon:"‚òÄÔ∏è",text:"Det √§r soligt ute.",pictogramHint:"sun"},{icon:"‚òÅÔ∏è",text:"Moln kommer p√• himlen.",pictogramHint:"clouds"},{icon:"üåßÔ∏è",text:"Det b√∂rjar regna!",pictogramHint:"rain"},{icon:"‚òÇÔ∏è",text:"Barnet tar paraplyet.",pictogramHint:"umbrella"},{icon:"üåà",text:"Titta! En regnb√•ge!",pictogramHint:"rainbow"}]},{id:"birthday",title:"Kalas!",icon:"üéÇ",scenes:[{icon:"üéà",text:"Idag √§r det kalas!",pictogramHint:"party"},{icon:"üéÅ",text:"Barnet f√•r presenter.",pictogramHint:"gifts"},{icon:"üéÇ",text:"T√•rtan har ljus.",pictogramHint:"cake"},{icon:"üïØÔ∏è",text:"Barnet bl√•ser ut ljusen.",pictogramHint:"candles"},{icon:"ü•≥",text:"Alla sjunger. Grattis!",pictogramHint:"celebrate"}]},{id:"pet",title:"Katten",icon:"üê±",scenes:[{icon:"üê±",text:"Katten sitter i f√∂nstret.",pictogramHint:"cat"},{icon:"üê¶",text:"Den ser en f√•gel ute.",pictogramHint:"bird"},{icon:"üò∫",text:"Katten vill jaga!",pictogramHint:"chase"},{icon:"üö™",text:"Men d√∂rren √§r st√§ngd.",pictogramHint:"door"},{icon:"üò∏",text:"Katten f√•r mat ist√§llet.",pictogramHint:"food"}]}],P=["choose","order","practice","tell"];let o=N(null),m=N("choose"),l=N(0),w=N(!1);async function V(r){t(w)||(c(w,!0),await ct(r.text,{rate:.7}),c(w,!1))}async function dt(){if(!(!t(o)||t(w))){c(w,!0);for(const r of t(o).scenes)await ct(r.text,{rate:.7}),await new Promise(D=>setTimeout(D,800));c(w,!1)}}function X(){t(o)&&t(l)<t(o).scenes.length-1&&nt(l)}function Z(){t(l)>0&&nt(l,-1)}function tt(){const r=P.indexOf(t(m));r<P.length-1&&(c(m,P[r+1],!0),c(l,0))}function mt(){if(t(m)!=="choose"&&t(o)){const r=P.indexOf(t(m));r>0?c(m,P[r-1],!0):(c(o,null),c(m,"choose"))}else t(o)?(c(o,null),c(m,"choose")):jt("/")}function bt(r){c(o,r,!0),c(m,"practice"),c(l,0)}var et=Rt(),st=G(et);Ct(st,{appId:"story-workshop",titleKey:"app.story_workshop",purposeKey:"welcome.storyWorkshop.purpose",howKey:"welcome.storyWorkshop.how",goalKey:"welcome.storyWorkshop.goal",icon:"üìñ"});var Y=a(st,2),q=s(Y),at=s(q),ot=a(at,2),_t=s(ot);e(ot),e(q);var rt=a(q,2),gt=s(rt);{var ft=r=>{var D=Tt(),j=G(D),J=s(j,!0);e(j);var O=a(j,2);F(O,21,()=>xt,R,(E,T)=>{var p=Pt(),n=s(p),x=s(n,!0);e(n);var d=a(n,2),f=s(d,!0);e(d);var v=a(d,2),u=s(v);e(v),e(p),K(h=>{i(x,t(T).icon),i(f,t(T).title),i(u,`${t(T).scenes.length??""} ${h??""}`)},[()=>g()("storyWorkshop.scene")]),b("click",p,()=>bt(t(T))),y(E,p)}),e(O),K(E=>i(J,E),[()=>g()("storyWorkshop.intro")]),y(r,D)},ht=r=>{var D=Ft(),j=G(D);F(j,21,()=>P,R,(p,n)=>{var x=Ht(),d=G(x);{var f=v=>{var u=At();let h;var k=s(u,!0);e(u),K(_=>{h=it(u,1,"phase-tab svelte-x794oz",null,h,{active:t(m)===t(n)}),i(k,_)},[()=>g()(`storyWorkshop.step.${t(n)}`)]),b("click",u,()=>{c(m,t(n),!0),c(l,0)}),y(v,u)};U(d,v=>{t(n)!=="choose"&&v(f)})}y(p,x)}),e(j);var J=a(j,2);{var O=p=>{var n=Et(),x=s(n),d=s(x),f=s(d,!0);e(d);var v=a(d,2),u=s(v,!0);e(v);var h=a(v,2),k=s(h);e(h),e(x);var _=a(x,2),z=s(_),C=s(z);e(z),e(_);var W=a(_,2),S=s(W),$=a(S,2);e(W);var B=a(W,2),I=s(B);e(B);var A=a(B,2),M=s(A);e(A),e(n),K((L,Q,kt,zt)=>{i(f,t(o).scenes[t(l)].icon),i(u,t(o).scenes[t(l)].text),i(k,`${L??""} ${t(l)+1}/${t(o).scenes.length??""}`),z.disabled=t(w),i(C,`üîä ${Q??""}`),S.disabled=t(l)===0,$.disabled=t(l)>=t(o).scenes.length-1,B.disabled=t(w),i(I,`üìñ ${kt??""}`),i(M,`${zt??""} ‚Üí`)},[()=>g()("storyWorkshop.scene"),()=>g()("storyWorkshop.listen"),()=>g()("storyWorkshop.listen"),()=>g()("storyWorkshop.step.tell")]),b("click",z,()=>V(t(o).scenes[t(l)])),b("click",S,Z),b("click",$,X),b("click",B,dt),b("click",A,tt),y(p,n)},E=p=>{var n=Ot(),x=s(n),d=s(x,!0);e(x);var f=a(x,2);F(f,21,()=>t(o).scenes,R,(S,$,B)=>{var I=Mt();let A;var M=s(I),L=s(M,!0);e(M);var Q=a(M,2);Q.textContent=B+1,e(I),K(()=>{A=it(I,1,"picture-frame svelte-x794oz",null,A,{current:B===t(l)}),i(L,t($).icon)}),b("click",I,()=>c(l,B,!0)),y(S,I)}),e(f);var v=a(f,2),u=s(v),h=s(u,!0);e(u),e(v);var k=a(v,2),_=s(k),z=a(_,2);e(k);var C=a(k,2),W=s(C);e(C),e(n),K((S,$)=>{i(d,S),i(h,t(o).scenes[t(l)].icon),_.disabled=t(l)===0,z.disabled=t(l)>=t(o).scenes.length-1,i(W,`üîÑ ${$??""}`)},[()=>g()("storyWorkshop.yourTurn"),()=>g()("storyWorkshop.newStory")]),b("click",_,Z),b("click",z,X),b("click",C,()=>{c(o,null),c(m,"choose")}),y(p,n)},T=p=>{var n=Nt(),x=s(n);F(x,17,()=>t(o).scenes,R,(v,u,h)=>{var k=Gt(),_=s(k);_.textContent=h+1;var z=a(_,2),C=s(z,!0);e(z);var W=a(z,2),S=s(W,!0);e(W);var $=a(W,2);e(k),K(()=>{i(C,t(u).icon),i(S,t(u).text),$.disabled=t(w)}),b("click",$,()=>V(t(u))),y(v,k)});var d=a(x,2),f=s(d);e(d),e(n),K(v=>i(f,`${v??""} ‚Üí`),[()=>g()("storyWorkshop.next")]),b("click",d,tt),y(p,n)};U(J,p=>{t(m)==="practice"?p(O):t(m)==="tell"?p(E,1):t(m)==="order"&&p(T,2)})}y(r,D)};U(gt,r=>{t(o)?r(ht,!1):r(ft)})}e(rt),St(2),e(Y),K(r=>i(_t,`üìñ ${r??""}`),[()=>g()("storyWorkshop.title")]),b("click",at,mt),$t(1,Y,()=>Bt),y(lt,et),Wt(),ut()}yt(["click"]);export{se as component};
