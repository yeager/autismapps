import{d as Be,b as i,f as u,s as p,a as x,g as $e}from"../chunks/Rl5oAaZp.js";import{ag as Ee,ao as D,b as re,ap as je,an as X,ah as g,ai as we,s as b,a as e,ak as l,aj as s,al as a}from"../chunks/5-o2xn5F.js";import{i as I}from"../chunks/CV8532PG.js";import{e as W,i as G}from"../chunks/CWjGmADL.js";import{s as S}from"../chunks/mnwxxtgv.js";import{s as oe}from"../chunks/tEQK-CCT.js";import{s as Y}from"../chunks/CttGtDdq.js";import{s as Ce,a as Fe}from"../chunks/1mwIFy_z.js";import{t as ze}from"../chunks/D-IBFiEI.js";import{W as Se}from"../chunks/BIf6fDbj.js";import{s as H,c as Ue}from"../chunks/TeHBZhWf.js";import{g as qe}from"../chunks/B5a8mNDb.js";var Ke=u('<button class="board-option svelte-1sgn4ed"><span class="board-dot svelte-1sgn4ed"></span> <span class="board-name svelte-1sgn4ed"> </span> <span class="board-size svelte-1sgn4ed"> </span></button>'),Ae=u('<div class="empty-state svelte-1sgn4ed"><p>No boards yet. Create one in Board Builder!</p> <a href="/apps/board-builder" class="link-btn svelte-1sgn4ed">Open Board Builder â†’</a></div>'),De=u('<div class="board-selector svelte-1sgn4ed"><h2 class="svelte-1sgn4ed"> </h2> <div class="board-list svelte-1sgn4ed"></div></div>'),Ie=u('<span class="strip-hint svelte-1sgn4ed"> </span>'),Le=u('<img width="40" height="40" class="svelte-1sgn4ed"/>'),Ne=u('<button class="strip-word svelte-1sgn4ed"><!> </button>'),Oe=u('<button class="quick-btn svelte-1sgn4ed"><span class="quick-emoji svelte-1sgn4ed"> </span> <span> </span></button>'),Qe=u('<img loading="lazy" class="svelte-1sgn4ed"/>'),Te=u('<span class="talk-label svelte-1sgn4ed"> </span>'),We=u("<button><!> <!></button>"),Ge=u('<div class="sentence-area svelte-1sgn4ed"><div class="sentence-strip svelte-1sgn4ed" role="log"><!></div> <div class="sentence-actions svelte-1sgn4ed"><button class="action-btn speak svelte-1sgn4ed"> </button> <button class="action-btn svelte-1sgn4ed">âŒ«</button> <button class="action-btn svelte-1sgn4ed"> </button></div></div> <div class="quick-bar svelte-1sgn4ed"></div> <div class="talk-grid svelte-1sgn4ed"></div> <div class="talk-toolbar svelte-1sgn4ed"><button class="tool-btn svelte-1sgn4ed"> </button> <button class="tool-btn svelte-1sgn4ed"> </button></div>',1),He=u("<!> <div><!></div>",1);function rt(le,ne){Ee(ne,!0);const f=()=>Fe(ze,"$t",ie),[ie,ve]=Ce();let L=D(re([])),C=D(null),n=D(re([])),J=D(!0),N=D(!1);const de=[{key:"yes",emoji:"âœ…",color:"#27AE60"},{key:"no",emoji:"âŒ",color:"#E74C3C"},{key:"help",emoji:"ðŸ†˜",color:"#3498DB"},{key:"more",emoji:"âž•",color:"#F1C40F"},{key:"stop",emoji:"ðŸ›‘",color:"#E74C3C"},{key:"toilet",emoji:"ðŸš»",color:"#9B59B6"},{key:"i_want",emoji:"ðŸ™‹",color:"#F39C12"},{key:"finished",emoji:"âœ‹",color:"#27AE60"}];async function ce(){b(L,await qe(),!0),e(L).length>0&&!e(C)&&Z(e(L)[0])}function Z(o){b(C,o,!0),b(J,!1)}function pe(o){o.isEmpty||(H(o.label),b(n,[...e(n),o],!0))}function ue(o){const _=f()(`talk.${o}`);H(_),b(n,[...e(n),{index:-1,label:_,isEmpty:!1}],!0)}function _e(){const o=e(n).map(_=>_.label).join(" ");o&&H(o)}function me(){b(n,[],!0),Ue()}function ge(){b(n,e(n).slice(0,-1),!0)}function be(){document.fullscreenElement?(document.exitFullscreen(),b(N,!1)):(document.documentElement.requestFullscreen(),b(N,!0))}je(()=>{ce()});var ee=He(),te=X(ee);Se(te,{appId:"talk-board",titleKey:"app.talk_board",purposeKey:"welcome.talkBoard.purpose",howKey:"welcome.talkBoard.how",goalKey:"welcome.talkBoard.goal",icon:"ðŸ—£ï¸"});var M=l(te,2);let ae;var fe=s(M);{var ke=o=>{var _=De(),$=s(_),F=s($,!0);a($);var O=l($,2);W(O,21,()=>e(L),G,(E,k)=>{var j=Ke(),B=s(j),U=l(B,2),q=s(U,!0);a(U);var w=l(U,2),P=s(w);a(w),a(j),g(()=>{Y(B,`background: ${e(k).categoryColor??""}`),p(q,e(k).name),p(P,`${e(k).gridSize??""}Ã—${e(k).gridSize??""}`)}),x("click",j,()=>Z(e(k))),i(E,j)},E=>{var k=Ae();i(E,k)}),a(O),a(_),g(E=>p(F,E),[()=>f()("talk.load_board")]),i(o,_)},ye=o=>{var _=Ge(),$=X(_),F=s($),O=s(F);{var E=v=>{var t=Ie(),r=s(t,!0);a(t),g(d=>p(r,d),[()=>f()("talk.sentence_strip")]),i(v,t)},k=v=>{var t=$e(),r=X(t);W(r,17,()=>e(n),G,(d,c)=>{var y=Ne(),z=s(y);{var K=m=>{var A=Le();g(()=>{S(A,"src",e(c).pictogramUrl),S(A,"alt",e(c).label)}),i(m,A)};I(z,m=>{e(c).pictogramUrl&&m(K)})}var h=l(z);a(y),g(()=>p(h,` ${e(c).label??""}`)),x("click",y,()=>H(e(c).label)),i(d,y)}),i(v,t)};I(O,v=>{e(n).length===0?v(E):v(k,!1)})}a(F);var j=l(F,2),B=s(j),U=s(B);a(B);var q=l(B,2),w=l(q,2),P=s(w,!0);a(w),a(j),a($);var R=l($,2);W(R,21,()=>de,G,(v,t)=>{var r=Oe(),d=s(r),c=s(d,!0);a(d);var y=l(d,2),z=s(y,!0);a(y),a(r),g(K=>{Y(r,`--q-color: ${e(t).color??""}`),p(c,e(t).emoji),p(z,K)},[()=>f()(`talk.${e(t).key}`)]),x("click",r,()=>ue(e(t).key)),i(v,r)}),a(R);var Q=l(R,2);W(Q,21,()=>e(C).cells,G,(v,t)=>{var r=We();let d;var c=s(r);{var y=h=>{var m=Qe();g(()=>{S(m,"src",e(t).pictogramUrl),S(m,"alt",e(t).label)}),i(h,m)};I(c,h=>{!e(t).isEmpty&&e(t).pictogramUrl&&h(y)})}var z=l(c,2);{var K=h=>{var m=Te(),A=s(m,!0);a(m),g(()=>p(A,e(t).label)),i(h,m)};I(z,h=>{e(t).isEmpty||h(K)})}a(r),g(()=>{d=oe(r,1,"talk-cell svelte-1sgn4ed",null,d,{empty:e(t).isEmpty}),S(r,"aria-label",e(t).isEmpty?"":e(t).label),r.disabled=e(t).isEmpty}),x("click",r,()=>pe(e(t))),i(v,r)}),a(Q);var se=l(Q,2),T=s(se),he=s(T);a(T);var V=l(T,2),xe=s(V);a(V),a(se),g((v,t,r,d,c)=>{S(F,"aria-label",v),B.disabled=e(n).length===0,p(U,`ðŸ”Š ${t??""}`),q.disabled=e(n).length===0,w.disabled=e(n).length===0,p(P,r),Y(Q,`--grid-size: ${e(C).gridSize??""}; --board-color: ${e(C).categoryColor??""}`),p(he,`ðŸ“‚ ${d??""}`),p(xe,`${e(N)?"ðŸ”²":"â›¶"} ${c??""}`)},[()=>f()("talk.sentence_strip"),()=>f()("talk.speak_all"),()=>f()("talk.clear"),()=>f()("talk.load_board"),()=>f()("talk.fullscreen")]),x("click",B,_e),x("click",q,ge),x("click",w,me),x("click",T,()=>{b(J,!0)}),x("click",V,be),i(o,_)};I(fe,o=>{e(J)?o(ke):e(C)&&o(ye,1)})}a(M),g(()=>ae=oe(M,1,"talk-board svelte-1sgn4ed",null,ae,{fullscreen:e(N)})),i(le,ee),we(),ve()}Be(["click"]);export{rt as component};
