import{d as Ta,a as j,b as u,s as f,f as p,e as T}from"../chunks/Rl5oAaZp.js";import{ag as Wa,ao as B,b as da,an as ca,ah as b,ai as Na,a,s as C,aj as s,ak as o,al as t,am as Oa,aq as Ba,as as G}from"../chunks/5-o2xn5F.js";import{i as W}from"../chunks/CV8532PG.js";import{e as q,i as R}from"../chunks/CWjGmADL.js";import{s as z}from"../chunks/mnwxxtgv.js";import{s as qa,a as Ra}from"../chunks/1mwIFy_z.js";import{g as Ya}from"../chunks/C7HAlxDp.js";import{W as Za}from"../chunks/BIf6fDbj.js";import{t as Ea,l as Fa}from"../chunks/D-IBFiEI.js";import{s as N}from"../chunks/TeHBZhWf.js";import{t as Ga,s as Ha}from"../chunks/gbT3kRQG.js";var Ja=p('<div class="header-actions svelte-18uxd1z"><button class="icon-btn svelte-18uxd1z">ğŸ’¾</button> <button class="icon-btn svelte-18uxd1z">ğŸ”„</button></div>'),La=p('<button class="topic-card svelte-18uxd1z"><span class="topic-emoji svelte-18uxd1z"> </span> <span> </span></button>'),Qa=p('<p class="intro svelte-18uxd1z"> </p> <div class="topics-grid svelte-18uxd1z"></div> <div class="method-credit svelte-18uxd1z"><p> </p></div>',1),Ua=p('<div class="loading svelte-18uxd1z"><div class="spinner svelte-18uxd1z"></div></div>'),Va=p('<img width="48" height="48" class="svelte-18uxd1z"/>'),Xa=p('<button class="zone-item svelte-18uxd1z"><!> <span> </span></button>'),ae=p('<img width="48" height="48" class="svelte-18uxd1z"/>'),ee=p('<button class="zone-item svelte-18uxd1z"><!> <span> </span></button>'),te=p('<img width="48" height="48" class="svelte-18uxd1z"/>'),se=p('<button class="zone-item svelte-18uxd1z"><!> <span> </span></button>'),re=p('<img width="56" height="56" class="svelte-18uxd1z"/>'),oe=p('<div class="unplaced-card svelte-18uxd1z" role="listitem" draggable="true"><!> <span class="unplaced-label svelte-18uxd1z"> </span> <div class="place-buttons svelte-18uxd1z"><button class="place-btn pos svelte-18uxd1z" aria-label="Positive">ğŸ˜Š</button> <button class="place-btn neu svelte-18uxd1z" aria-label="Neutral">ğŸ˜</button> <button class="place-btn neg svelte-18uxd1z" aria-label="Negative">ğŸ˜Ÿ</button></div></div>'),le=p('<div class="unplaced-bar svelte-18uxd1z"><p class="bar-label svelte-18uxd1z"> </p> <div class="unplaced-items svelte-18uxd1z"></div></div>'),ie=p('<div class="mat-layout svelte-18uxd1z"><div class="zones svelte-18uxd1z"><div class="zone positive svelte-18uxd1z" role="region"><h3 class="svelte-18uxd1z"> </h3> <div class="zone-items svelte-18uxd1z"></div></div> <div class="zone neutral-zone svelte-18uxd1z" role="region"><h3 class="svelte-18uxd1z"> </h3> <div class="zone-items svelte-18uxd1z"></div></div> <div class="zone negative-zone svelte-18uxd1z" role="region"><h3 class="svelte-18uxd1z"> </h3> <div class="zone-items svelte-18uxd1z"></div></div></div> <!></div>'),ve=p(`<!> <div class="mat-page svelte-18uxd1z"><header class="app-header svelte-18uxd1z"><button class="back-btn svelte-18uxd1z"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M15 18l-6-6 6-6"></path></svg></button> <h1 class="svelte-18uxd1z"> </h1> <!></header> <!> <footer class="credit svelte-18uxd1z">Pictograms: <a href="https://arasaac.org" target="_blank" rel="noopener" class="svelte-18uxd1z">ARASAAC</a> â€” CC BY-NC-SA 3.0
    Â· Inspired by <a href="https://www.talkingmats.com" target="_blank" rel="noopener" class="svelte-18uxd1z">Talking Matsâ„¢</a> framework</footer></div>`,1);function fe(ua,pa){Wa(pa,!0);const d=()=>Ra(Ea,"$t",ga),[ga,_a]=qa(),ma=[{id:"food",label:"mat.topic.food",emoji:"ğŸ",words:["pizza","vegetables","fruit","candy","milk","water","bread","soup","rice","chicken"]},{id:"school",label:"mat.topic.school",emoji:"ğŸ«",words:["reading","math","drawing","music","gym","recess","writing","computer","homework","group work"]},{id:"activities",label:"mat.topic.activities",emoji:"âš½",words:["swimming","football","drawing","music","dancing","cooking","reading","gaming","walking","cycling"]},{id:"feelings",label:"mat.topic.feelings",emoji:"ğŸ’­",words:["school","home","friends","family","bedtime","morning","eating","homework","playing","shopping"]}];let $=B(null),k=B(da([])),H=B(!1),Y=B(null),ta=B(da([]));async function ba(e){C($,e,!0),C(H,!0),N(d()(e.label));const i=Ba(Fa)==="sv"?await Ga(e.words):null,x=await Promise.all(e.words.map(async(h,M)=>{const S=await Ha(h,"en");return{word:i?i[M].sv:h,id:S[0]?.id||0,url:S[0]?.url||"",zone:"unplaced"}}));C(k,x,!0),C(H,!1)}function Z(e,v){C(k,a(k).map(i=>i.word===e.word?{...i,zone:v}:i),!0),N(e.word)}function za(e){C(Y,e,!0)}function J(e){a(Y)&&(Z(a(Y),e),C(Y,null))}function xa(){a($)&&(C(ta,[...a(ta),{topic:a($).id,date:new Date().toISOString(),items:[...a(k)]}],!0),N(d()("mat.saved")))}function fa(){C(k,a(k).map(e=>({...e,zone:"unplaced"})),!0)}const sa=G(()=>a(k).filter(e=>e.zone==="unplaced")),ha=G(()=>a(k).filter(e=>e.zone==="positive")),wa=G(()=>a(k).filter(e=>e.zone==="neutral")),ka=G(()=>a(k).filter(e=>e.zone==="negative"));var ra=ve(),oa=ca(ra);Za(oa,{appId:"talking-mat",titleKey:"app.talking_mat",purposeKey:"welcome.talkingMat.purpose",howKey:"welcome.talkingMat.how",goalKey:"welcome.talkingMat.goal",icon:"ğŸŸ¢"});var la=o(oa,2),L=s(la),Q=s(L),U=o(Q,2),ya=s(U,!0);t(U);var ja=o(U,2);{var Ca=e=>{var v=Ja(),i=s(v),x=o(i,2);t(v),b((h,M)=>{z(i,"aria-label",h),z(x,"aria-label",M)},[()=>d()("mat.save"),()=>d()("mat.reset")]),j("click",i,xa),j("click",x,fa),u(e,v)};W(ja,e=>{a($)&&e(Ca)})}t(L);var Da=o(L,2);{var Ia=e=>{var v=Qa(),i=ca(v),x=s(i,!0);t(i);var h=o(i,2);q(h,21,()=>ma,R,(A,K)=>{var P=La(),I=s(P),O=s(I,!0);t(I);var E=o(I,2),F=s(E,!0);t(E),t(P),b(V=>{f(O,a(K).emoji),f(F,V)},[()=>d()(a(K).label)]),j("click",P,()=>ba(a(K))),u(A,P)}),t(h);var M=o(h,2),S=s(M),D=s(S,!0);t(S),t(M),b((A,K)=>{f(x,A),f(D,K)},[()=>d()("mat.choose_topic"),()=>d()("mat.credit")]),u(e,v)},Ma=e=>{var v=Ua();u(e,v)},Sa=e=>{var v=ie(),i=s(v),x=s(i),h=s(x),M=s(h);t(h);var S=o(h,2);q(S,21,()=>a(ha),R,(n,r)=>{var l=Xa(),w=s(l);{var y=c=>{var m=Va();b(()=>{z(m,"src",a(r).url),z(m,"alt",a(r).word)}),u(c,m)};W(w,c=>{a(r).url&&c(y)})}var g=o(w,2),_=s(g,!0);t(g),t(l),b(()=>f(_,a(r).word)),j("click",l,()=>N(a(r).word)),u(n,l)}),t(S),t(x);var D=o(x,2),A=s(D),K=s(A);t(A);var P=o(A,2);q(P,21,()=>a(wa),R,(n,r)=>{var l=ee(),w=s(l);{var y=c=>{var m=ae();b(()=>{z(m,"src",a(r).url),z(m,"alt",a(r).word)}),u(c,m)};W(w,c=>{a(r).url&&c(y)})}var g=o(w,2),_=s(g,!0);t(g),t(l),b(()=>f(_,a(r).word)),j("click",l,()=>N(a(r).word)),u(n,l)}),t(P),t(D);var I=o(D,2),O=s(I),E=s(O);t(O);var F=o(O,2);q(F,21,()=>a(ka),R,(n,r)=>{var l=se(),w=s(l);{var y=c=>{var m=te();b(()=>{z(m,"src",a(r).url),z(m,"alt",a(r).word)}),u(c,m)};W(w,c=>{a(r).url&&c(y)})}var g=o(w,2),_=s(g,!0);t(g),t(l),b(()=>f(_,a(r).word)),j("click",l,()=>N(a(r).word)),u(n,l)}),t(F),t(I),t(i);var V=o(i,2);{var $a=n=>{var r=le(),l=s(r),w=s(l,!0);t(l);var y=o(l,2);q(y,21,()=>a(sa),R,(g,_)=>{var c=oe(),m=s(c);{var Aa=aa=>{var ea=re();b(()=>{z(ea,"src",a(_).url),z(ea,"alt",a(_).word)}),u(aa,ea)};W(m,aa=>{a(_).url&&aa(Aa)})}var X=o(m,2),Ka=s(X,!0);t(X);var ia=o(X,2),va=s(ia),na=o(va,2),Pa=o(na,2);t(ia),t(c),b(()=>f(Ka,a(_).word)),T("dragstart",c,()=>za(a(_))),j("click",va,()=>Z(a(_),"positive")),j("click",na,()=>Z(a(_),"neutral")),j("click",Pa,()=>Z(a(_),"negative")),u(g,c)}),t(y),t(r),b(g=>f(w,g),[()=>d()("mat.tap_to_place")]),u(n,r)};W(V,n=>{a(sa).length>0&&n($a)})}t(v),b((n,r,l,w,y,g)=>{z(x,"aria-label",n),f(M,`ğŸ˜Š ${r??""}`),z(D,"aria-label",l),f(K,`ğŸ˜ ${w??""}`),z(I,"aria-label",y),f(E,`ğŸ˜Ÿ ${g??""}`)},[()=>d()("mat.positive"),()=>d()("mat.positive"),()=>d()("mat.neutral"),()=>d()("mat.neutral"),()=>d()("mat.negative"),()=>d()("mat.negative")]),T("dragover",x,n=>n.preventDefault()),T("drop",x,()=>J("positive")),T("dragover",D,n=>n.preventDefault()),T("drop",D,()=>J("neutral")),T("dragover",I,n=>n.preventDefault()),T("drop",I,()=>J("negative")),u(e,v)};W(Da,e=>{a($)?a(H)?e(Ma,1):e(Sa,!1):e(Ia)})}Oa(2),t(la),b((e,v)=>{z(Q,"aria-label",e),f(ya,v)},[()=>d()("app.back"),()=>d()("mat.title")]),j("click",Q,()=>a($)?C($,null):Ya("/")),u(ua,ra),Na(),_a()}Ta(["click"]);export{fe as component};
