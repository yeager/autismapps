import{d as lt,a as w,b as _,s as p,f as g}from"../chunks/Rl5oAaZp.js";import{ag as it,ao as b,b as N,an as nt,ah as q,ai as dt,a as e,s as d,ak as v,aj as n,al as o,am as ct,ar as ut}from"../chunks/5-o2xn5F.js";import{i as pt}from"../chunks/CV8532PG.js";import{e as E,i as H}from"../chunks/CWjGmADL.js";import{t as P,f as U}from"../chunks/CYPR1nOs.js";import{s as F}from"../chunks/tEQK-CCT.js";import{s as vt,a as ft}from"../chunks/1mwIFy_z.js";import{g as mt}from"../chunks/C7HAlxDp.js";import{W as ht}from"../chunks/BIf6fDbj.js";import{t as wt}from"../chunks/D-IBFiEI.js";import{s as B}from"../chunks/TeHBZhWf.js";var _t=g("<button> </button>"),bt=g('<div class="success svelte-c6q3ps"><p class="svelte-c6q3ps"> </p> <button class="next-btn svelte-c6q3ps"> </button></div>'),gt=g("<button> </button>"),xt=g('<div class="available svelte-c6q3ps"></div>'),qt=g('<!> <div class="app svelte-c6q3ps"><header class="hdr svelte-c6q3ps"><button class="back svelte-c6q3ps">‚Üê</button> <h1 class="svelte-c6q3ps"> </h1> <span class="score svelte-c6q3ps"> </span></header> <main class="cnt svelte-c6q3ps"><div class="hint svelte-c6q3ps"> </div> <div class="slots svelte-c6q3ps"></div> <!> <button class="speak-btn svelte-c6q3ps"> </button></main> <footer class="cr svelte-c6q3ps"><p>Autismappar ¬∑ CC BY-NC-SA 4.0</p></footer></div>',1);function Mt(J,R){it(R,!0);const m=()=>ft(wt,"$t",V),[V,Y]=vt(),f=[{word:"SOL",hint:"‚òÄÔ∏è"},{word:"BIL",hint:"üöó"},{word:"HUS",hint:"üè†"},{word:"KATT",hint:"üê±"},{word:"HUND",hint:"üê∂"},{word:"BOLL",hint:"‚öΩ"},{word:"MAT",hint:"üçΩÔ∏è"},{word:"BOK",hint:"üìñ"},{word:"FISK",hint:"üêü"},{word:"MJ√ñLK",hint:"ü•õ"},{word:"√ÑPPLE",hint:"üçé"},{word:"VATTEN",hint:"üíß"}];let c=b(0),u=b(N([])),i=b(N([])),x=b(!1),I=b(0);function z(s){const r=[...s];for(let t=r.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[r[t],r[a]]=[r[a],r[t]]}return r}function S(){const s=f[e(c)];d(u,z(s.word.split("").map((r,t)=>({ch:r,id:t,used:!1}))),!0),d(i,Array(s.word.length).fill(null),!0),d(x,!1)}S();function G(s){if(s.used)return;const r=e(i).findIndex(t=>t===null);r!==-1&&(d(i,e(i).map((t,a)=>a===r?s:t),!0),d(u,e(u).map(t=>t.id===s.id?{...t,used:!0}:t),!0),B(s.ch),e(i).every(t=>t!==null)&&(e(i).map(a=>a.ch).join("")===f[e(c)].word?(d(x,!0),ut(I),B(`${f[e(c)].word}! ${m()("wordBuilder.correct")}`)):(B(m()("wordBuilder.tryAgain")),setTimeout(()=>{d(u,e(u).map(a=>({...a,used:!1})),!0),d(i,Array(f[e(c)].word.length).fill(null),!0)},1e3))))}function Q(s){if(!e(i)[s])return;const r=e(i)[s];d(i,e(i).map((t,a)=>a===s?null:t),!0),d(u,e(u).map(t=>t.id===r.id?{...t,used:!1}:t),!0)}function X(){d(c,(e(c)+1)%f.length),S()}var W=qt(),M=nt(W);ht(M,{appId:"word-builder",titleKey:"app.word_builder",purposeKey:"welcome.wordBuilder.purpose",howKey:"welcome.wordBuilder.how",goalKey:"welcome.wordBuilder.goal",icon:"üî§"});var k=v(M,2),$=n(k),O=n($),y=v(O,2),Z=n(y);o(y);var j=v(y,2),tt=n(j);o(j),o($);var C=v($,2),A=n(C),et=n(A,!0);o(A);var K=v(A,2);E(K,21,()=>e(i),H,(s,r,t)=>{var a=_t();let l;var h=n(a,!0);o(a),q(()=>{l=F(a,1,"slot svelte-c6q3ps",null,l,{filled:e(r),correct:e(x)}),p(h,e(r)?e(r).ch:"")}),w("click",a,()=>Q(t)),_(s,a)}),o(K);var D=v(K,2);{var rt=s=>{var r=bt(),t=n(r),a=n(t);o(t);var l=v(t,2),h=n(l);o(l),o(r),q((T,ot)=>{p(a,`üéâ ${T??""}!`),p(h,`‚ñ∂ ${ot??""}`)},[()=>m()("wordBuilder.correct"),()=>m()("wordBuilder.next")]),w("click",l,X),P(1,r,()=>U),_(s,r)},st=s=>{var r=xt();E(r,21,()=>e(u),H,(t,a)=>{var l=gt();let h;var T=n(l,!0);o(l),q(()=>{h=F(l,1,"letter-btn svelte-c6q3ps",null,h,{used:e(a).used}),l.disabled=e(a).used,p(T,e(a).ch)}),w("click",l,()=>G(e(a))),_(t,l)}),o(r),_(s,r)};pt(D,s=>{e(x)?s(rt):s(st,!1)})}var L=v(D,2),at=n(L);o(L),o(C),ct(2),o(k),q((s,r)=>{p(Z,`üî§ ${s??""}`),p(tt,`‚≠ê ${e(I)??""}`),p(et,f[e(c)].hint),p(at,`üîä ${r??""}`)},[()=>m()("wordBuilder.title"),()=>m()("wordBuilder.hear")]),w("click",O,()=>mt("/")),w("click",L,()=>B(f[e(c)].word)),P(1,k,()=>U),_(J,W),dt(),Y()}lt(["click"]);export{Mt as component};
