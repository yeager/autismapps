import{d as vt,a as g,b as x,s as c,f as b}from"../chunks/Rl5oAaZp.js";import{ag as ct,ao as U,b as pt,an as P,ah as I,ai as dt,a as e,ak as l,aj as r,s as d,al as s}from"../chunks/5-o2xn5F.js";import{i as S}from"../chunks/CV8532PG.js";import{e as ut,i as ht}from"../chunks/CWjGmADL.js";import{t as q,f as A}from"../chunks/CYPR1nOs.js";import{s as F,r as jt,a as mt}from"../chunks/mnwxxtgv.js";import{s as gt,a as _t}from"../chunks/1mwIFy_z.js";import{g as ft}from"../chunks/C7HAlxDp.js";import{W as xt}from"../chunks/BIf6fDbj.js";import{t as bt}from"../chunks/D-IBFiEI.js";import{s as G}from"../chunks/TeHBZhWf.js";var kt=b('<button class="del-btn svelte-4gj4j">âœ•</button>'),wt=b('<div class="choice-row svelte-4gj4j"><span class="choice-emoji svelte-4gj4j"> </span> <input type="text" class="choice-input svelte-4gj4j"/> <!></div>'),$t=b('<div class="result svelte-4gj4j"><span class="result-emoji svelte-4gj4j"> </span> <h2 class="result-text svelte-4gj4j"> </h2> <button class="replay-btn svelte-4gj4j">ğŸ”Š</button></div> <button class="reset-btn svelte-4gj4j"> </button>',1),yt=b('<div class="spinning-display svelte-4gj4j"><span class="spin-emoji svelte-4gj4j"> </span> <span class="spin-text"> </span></div>'),It=b('<!> <div class="chooser-page svelte-4gj4j"><header class="app-header svelte-4gj4j"><button class="back-btn svelte-4gj4j"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M15 18l-6-6 6-6"></path></svg></button> <h1 class="svelte-4gj4j"> </h1></header> <div class="content svelte-4gj4j"><p class="instruction svelte-4gj4j"> </p> <div class="choices-list svelte-4gj4j"></div> <button class="add-choice svelte-4gj4j"> </button> <div class="action-area svelte-4gj4j"><button class="choose-btn svelte-4gj4j"> </button></div> <!></div> <footer class="credit svelte-4gj4j"> </footer></div>',1);function Jt(H,L){ct(L,!0);const m=()=>_t(bt,"$t",Q),[Q,R]=gt(),W=["ğŸŸ¢","ğŸ”µ","ğŸŸ¡","ğŸŸ ","ğŸ”´","ğŸŸ£","â­","ğŸ¯","ğŸŒˆ","ğŸª"];let n=U(pt([{id:"1",text:"",emoji:"ğŸŸ¢"},{id:"2",text:"",emoji:"ğŸ”µ"}])),v=U(null),_=U(!1);function V(){const t=e(n).length;d(n,[...e(n),{id:crypto.randomUUID(),text:"",emoji:W[t%W.length]}],!0)}function X(t){e(n).length<=2||d(n,e(n).filter(a=>a.id!==t),!0)}function Y(t,a){d(n,e(n).map(o=>o.id===t?{...o,text:a}:o),!0)}function Z(){const t=e(n).filter(i=>i.text.trim());if(t.length<2)return;d(_,!0),d(v,null);let a=0;const o=setInterval(()=>{if(d(v,t[a%t.length],!0),a++,a>10+Math.random()*5){clearInterval(o),d(_,!1);const i=t[Math.floor(Math.random()*t.length)];d(v,i,!0),G(i.text)}},120)}function tt(){d(v,null),d(n,[{id:"1",text:"",emoji:"ğŸŸ¢"},{id:"2",text:"",emoji:"ğŸ”µ"}],!0)}var z=It(),B=P(z);xt(B,{appId:"chooser",titleKey:"app.chooser",purposeKey:"welcome.chooser.purpose",howKey:"welcome.chooser.how",goalKey:"welcome.chooser.goal",icon:"ğŸ¯"});var E=l(B,2),M=r(E),K=r(M),J=l(K,2),et=r(J,!0);s(J),s(M);var k=l(M,2),C=r(k),at=r(C,!0);s(C);var O=l(C,2);ut(O,21,()=>e(n),ht,(t,a,o)=>{var i=wt(),p=r(i),u=r(p,!0);s(p);var h=l(p,2);jt(h);var T=l(h,2);{var f=j=>{var y=kt();g("click",y,()=>X(e(a).id)),x(j,y)};S(T,j=>{e(n).length>2&&j(f)})}s(i),I(j=>{c(u,e(a).emoji),F(h,"placeholder",`${j??""} ${o+1}`),mt(h,e(a).text)},[()=>m()("chooser.option")]),g("input",h,j=>Y(e(a).id,j.target.value)),x(t,i)}),s(O);var w=l(O,2),st=r(w);s(w);var D=l(w,2),$=r(D),ot=r($);s($),s(D);var rt=l(D,2);{var it=t=>{var a=$t(),o=P(a),i=r(o),p=r(i,!0);s(i);var u=l(i,2),h=r(u,!0);s(u);var T=l(u,2);s(o);var f=l(o,2),j=r(f);s(f),I(y=>{c(p,e(v).emoji),c(h,e(v).text),c(j,`ğŸ”„ ${y??""}`)},[()=>m()("chooser.new_choice")]),g("click",T,()=>{e(v)&&G(e(v).text)}),q(3,o,()=>A),g("click",f,tt),x(t,a)},lt=t=>{var a=yt(),o=r(a),i=r(o,!0);s(o);var p=l(o,2),u=r(p,!0);s(p),s(a),I(()=>{c(i,e(v).emoji),c(u,e(v).text)}),x(t,a)};S(rt,t=>{e(v)&&!e(_)?t(it):e(_)&&e(v)&&t(lt,1)})}s(k);var N=l(k,2),nt=r(N,!0);s(N),s(E),I((t,a,o,i,p,u,h)=>{F(K,"aria-label",t),c(et,a),c(at,o),c(st,`+ ${i??""}`),$.disabled=p,c(ot,`ğŸ² ${u??""}`),c(nt,h)},[()=>m()("app.back"),()=>m()("chooser.title"),()=>m()("chooser.instruction"),()=>m()("chooser.add_option"),()=>e(_)||e(n).filter(t=>t.text.trim()).length<2,()=>m()("chooser.choose"),()=>m()("chooser.credit")]),g("click",K,()=>ft("/")),g("click",w,V),g("click",$,Z),q(3,k,()=>A),x(H,z),dt(),R()}vt(["click","input"]);export{Jt as component};
