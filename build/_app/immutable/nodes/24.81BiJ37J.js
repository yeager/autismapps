import{d as da,a as T,b as d,s as f,f as u,e as va,g as pa}from"../chunks/5jrULABA.js";import{S as ua,T as W,U as q,W as h,X as wa,d as a,Y as x,_ as i,Z as g,a0 as s,a2 as ma,a3 as G,$ as ba}from"../chunks/Bu7XKhG-.js";import{i as $}from"../chunks/64S6HLbC.js";import{e as z,i as H}from"../chunks/D91HFo5I.js";import{s as B,t as ha,a as I,l as ga}from"../chunks/tnJ21aC2.js";import{s as J}from"../chunks/jfaHFQEH.js";import{s as _a,a as ya}from"../chunks/Cvp8QKtV.js";import{g as fa}from"../chunks/BAFRKenw.js";import{t as L,s as Q}from"../chunks/gbT3kRQG.js";var ka=u('<button class="theme-card svelte-1wsva5y"><span class="theme-emoji svelte-1wsva5y"> </span> <span class="theme-name svelte-1wsva5y"> </span></button>'),xa=u('<div class="themes-grid svelte-1wsva5y"></div>'),ja=u('<div class="loading svelte-1wsva5y"><div class="spinner svelte-1wsva5y"></div> <p> </p></div>'),Ca=u('<img width="80" height="80" loading="lazy" class="svelte-1wsva5y"/>'),Ea=u('<span class="fallback-emoji svelte-1wsva5y">‚ùì</span>'),Aa=u('<button class="pictogram-card svelte-1wsva5y"><!> <span class="picto-label svelte-1wsva5y"> </span></button>'),Ba=u('<img width="36" height="36" class="svelte-1wsva5y"/>'),Pa=u('<button class="core-btn svelte-1wsva5y"><!> <span> </span></button>'),Sa=u('<div class="board-grid svelte-1wsva5y"></div> <div class="core-bar svelte-1wsva5y"><span class="core-label svelte-1wsva5y"> </span> <div class="core-words svelte-1wsva5y"></div></div>',1),Ta=u('<div class="situation-page svelte-1wsva5y"><header class="app-header svelte-1wsva5y"><button class="back-btn svelte-1wsva5y"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M15 18l-6-6 6-6"></path></svg></button> <h1 class="svelte-1wsva5y"> </h1></header> <!> <footer class="credit svelte-1wsva5y">Pictograms: <a href="https://arasaac.org" target="_blank" rel="noopener" class="svelte-1wsva5y">ARASAAC</a> ‚Äî CC BY-NC-SA 3.0</footer></div>');function Ha(V,aa){ua(aa,!0);const b=()=>ya(ha,"$t",sa),[sa,ta]=_a(),ea=[{id:"school",label:"situation.school",emoji:"üè´",color:"#3498DB",words:["teacher","book","pencil","desk","friend","play","read","write","listen","draw","count","sing"]},{id:"home",label:"situation.home",emoji:"üè†",color:"#27AE60",words:["bed","table","chair","door","window","television","kitchen","bathroom","sleep","eat","clean","cook"]},{id:"food",label:"situation.food",emoji:"üçé",color:"#E67E22",words:["water","milk","bread","apple","banana","rice","chicken","soup","hungry","thirsty","plate","spoon"]},{id:"hygiene",label:"situation.hygiene",emoji:"üöø",color:"#9B59B6",words:["soap","toothbrush","towel","shower","toilet","wash hands","comb","mirror","clean","dry","shampoo","tissue"]},{id:"doctor",label:"situation.doctor",emoji:"üè•",color:"#E74C3C",words:["doctor","medicine","pain","stomach","head","arm","leg","thermometer","bandage","wait","sick","better"]},{id:"playground",label:"situation.playground",emoji:"üõù",color:"#F1C40F",words:["swing","slide","ball","run","jump","climb","sand","friend","turn","share","push","catch"]},{id:"transport",label:"situation.transport",emoji:"üöå",color:"#1ABC9C",words:["car","bus","bicycle","train","walk","road","stop","go","seat belt","ticket","fast","slow"]},{id:"feelings",label:"situation.feelings",emoji:"üòä",color:"#E91E63",words:["happy","sad","angry","scared","tired","excited","calm","worried","surprised","proud","bored","shy"]}],K=["yes","no","more","stop","help","I want"];let _=W(null),N=W(q([])),R=W(q([])),D=W(!1);async function ra(e){x(_,e,!0),x(D,!0),I(b()(e.label));const n=ba(ga),k=n==="sv"?await L(e.words):null,w=await Promise.all(e.words.map(async(o,r)=>{const l=await Q(o,"en"),t=k?k[r].sv:o;return l[0]?{word:t,id:l[0].id,url:l[0].url}:{word:t,id:0,url:""}}));if(x(N,w,!0),a(R).length===0){const o=n==="sv"?await L(K):null;x(R,await Promise.all(K.map(async(r,l)=>{const t=await Q(r,"en"),m=o?o[l].sv:r;return t[0]?{word:m,id:t[0].id,url:t[0].url}:{word:m,id:0,url:""}})),!0)}x(D,!1)}function U(e){I(e)}var F=Ta(),M=i(F),O=i(M),X=g(O,2),oa=i(X,!0);s(X),s(M);var la=g(M,2);{var ia=e=>{var n=xa();z(n,21,()=>ea,H,(k,w)=>{var o=ka(),r=i(o),l=i(r,!0);s(r);var t=g(r,2),m=i(t,!0);s(t),s(o),h(y=>{J(o,`--tc: ${a(w).color??""}`),f(l,a(w).emoji),f(m,y)},[()=>b()(a(w).label)]),T("click",o,()=>ra(a(w))),va("focus",o,()=>I(b()(a(w).label))),d(k,o)}),s(n),d(e,n)},na=e=>{var n=pa(),k=G(n);{var w=r=>{var l=ja(),t=g(i(l),2),m=i(t,!0);s(t),s(l),h(y=>f(m,y),[()=>b()("situation.loading")]),d(r,l)},o=r=>{var l=Sa(),t=G(l);z(t,21,()=>a(N),H,(j,c)=>{var v=Aa(),C=i(v);{var Y=p=>{var A=Ca();h(()=>{B(A,"src",a(c).url),B(A,"alt",a(c).word)}),d(p,A)},P=p=>{var A=Ea();d(p,A)};$(C,p=>{a(c).url?p(Y):p(P,!1)})}var S=g(C,2),E=i(S,!0);s(S),s(v),h(()=>{J(v,`--tc: ${a(_).color??""}`),f(E,a(c).word)}),T("click",v,()=>U(a(c).word)),d(j,v)}),s(t);var m=g(t,2),y=i(m),ca=i(y,!0);s(y);var Z=g(y,2);z(Z,21,()=>a(R),H,(j,c)=>{var v=Pa(),C=i(v);{var Y=E=>{var p=Ba();h(()=>{B(p,"src",a(c).url),B(p,"alt",a(c).word)}),d(E,p)};$(C,E=>{a(c).url&&E(Y)})}var P=g(C,2),S=i(P,!0);s(P),s(v),h(()=>f(S,a(c).word)),T("click",v,()=>U(a(c).word)),d(j,v)}),s(Z),s(m),h(j=>f(ca,j),[()=>b()("situation.core_words")]),d(r,l)};$(k,r=>{a(D)?r(w):r(o,!1)})}d(e,n)};$(la,e=>{a(_)?e(na,!1):e(ia)})}ma(2),s(F),h((e,n)=>{B(O,"aria-label",e),f(oa,n)},[()=>b()("app.back"),()=>a(_)?b()(a(_).label):b()("situation.title")]),T("click",O,()=>a(_)?x(_,null):fa("/")),d(V,F),wa(),ta()}da(["click"]);export{Ha as component};
