import{d as he,b as n,f as p,s as u,a as x,g as xe}from"../chunks/5jrULABA.js";import{S as $e,T as L,U as te,V as Be,W as b,X as Ee,Y as m,d as e,_ as a,a0 as s,Z as i,a3 as se}from"../chunks/Bu7XKhG-.js";import{i as N}from"../chunks/64S6HLbC.js";import{e as W,i as X}from"../chunks/D91HFo5I.js";import{s as w,t as je,a as Y,d as Ce}from"../chunks/tnJ21aC2.js";import{s as ae}from"../chunks/DvixMhaI.js";import{s as M}from"../chunks/jfaHFQEH.js";import{s as Fe,a as Se}from"../chunks/Cvp8QKtV.js";import{g as Ue}from"../chunks/BeKFXwpI.js";var we=p('<button class="board-option svelte-1sgn4ed"><span class="board-dot svelte-1sgn4ed"></span> <span class="board-name svelte-1sgn4ed"> </span> <span class="board-size svelte-1sgn4ed"> </span></button>'),ze=p('<div class="empty-state svelte-1sgn4ed"><p>No boards yet. Create one in Board Builder!</p> <a href="/apps/board-builder" class="link-btn svelte-1sgn4ed">Open Board Builder â†’</a></div>'),qe=p('<div class="board-selector svelte-1sgn4ed"><h2 class="svelte-1sgn4ed"> </h2> <div class="board-list svelte-1sgn4ed"></div></div>'),Ae=p('<span class="strip-hint svelte-1sgn4ed"> </span>'),Te=p('<img width="40" height="40" class="svelte-1sgn4ed"/>'),Le=p('<button class="strip-word svelte-1sgn4ed"><!> </button>'),Ne=p('<button class="quick-btn svelte-1sgn4ed"><span class="quick-emoji svelte-1sgn4ed"> </span> <span> </span></button>'),Oe=p('<img loading="lazy" class="svelte-1sgn4ed"/>'),Qe=p('<span class="talk-label svelte-1sgn4ed"> </span>'),De=p("<button><!> <!></button>"),Ie=p('<div class="sentence-area svelte-1sgn4ed"><div class="sentence-strip svelte-1sgn4ed" role="log"><!></div> <div class="sentence-actions svelte-1sgn4ed"><button class="action-btn speak svelte-1sgn4ed"> </button> <button class="action-btn svelte-1sgn4ed">âŒ«</button> <button class="action-btn svelte-1sgn4ed"> </button></div></div> <div class="quick-bar svelte-1sgn4ed"></div> <div class="talk-grid svelte-1sgn4ed"></div> <div class="talk-toolbar svelte-1sgn4ed"><button class="tool-btn svelte-1sgn4ed"> </button> <button class="tool-btn svelte-1sgn4ed"> </button></div>',1),Ke=p("<div><!></div>");function Pe(re,oe){$e(oe,!0);const f=()=>Se(je,"$t",le),[le,ne]=Fe();let O=L(te([])),F=L(null),l=L(te([])),Z=L(!0),Q=L(!1);const ie=[{key:"yes",emoji:"âœ…",color:"#27AE60"},{key:"no",emoji:"âŒ",color:"#E74C3C"},{key:"help",emoji:"ðŸ†˜",color:"#3498DB"},{key:"more",emoji:"âž•",color:"#F1C40F"},{key:"stop",emoji:"ðŸ›‘",color:"#E74C3C"},{key:"toilet",emoji:"ðŸš»",color:"#9B59B6"},{key:"i_want",emoji:"ðŸ™‹",color:"#F39C12"},{key:"finished",emoji:"âœ‹",color:"#27AE60"}];async function ve(){m(O,await Ue(),!0),e(O).length>0&&!e(F)&&P(e(O)[0])}function P(o){m(F,o,!0),m(Z,!1)}function de(o){o.isEmpty||(Y(o.label),m(l,[...e(l),o],!0))}function ce(o){const _=f()(`talk.${o}`);Y(_),m(l,[...e(l),{index:-1,label:_,isEmpty:!1}],!0)}function ue(){const o=e(l).map(_=>_.label).join(" ");o&&Y(o)}function pe(){m(l,[],!0),Ce()}function _e(){m(l,e(l).slice(0,-1),!0)}function ge(){document.fullscreenElement?(document.exitFullscreen(),m(Q,!1)):(document.documentElement.requestFullscreen(),m(Q,!0))}Be(()=>{ve()});var D=Ke();let R;var be=a(D);{var me=o=>{var _=qe(),B=a(_),S=a(B,!0);s(B);var I=i(B,2);W(I,21,()=>e(O),X,(E,k)=>{var j=we(),$=a(j),z=i($,2),q=a(z,!0);s(z);var C=i(z,2),G=a(C);s(C),s(j),b(()=>{M($,`background: ${e(k).categoryColor??""}`),u(q,e(k).name),u(G,`${e(k).gridSize??""}Ã—${e(k).gridSize??""}`)}),x("click",j,()=>P(e(k))),n(E,j)},E=>{var k=ze();n(E,k)}),s(I),s(_),b(E=>u(S,E),[()=>f()("talk.load_board")]),n(o,_)},fe=o=>{var _=Ie(),B=se(_),S=a(B),I=a(S);{var E=v=>{var t=Ae(),r=a(t,!0);s(t),b(d=>u(r,d),[()=>f()("talk.sentence_strip")]),n(v,t)},k=v=>{var t=xe(),r=se(t);W(r,17,()=>e(l),X,(d,c)=>{var y=Le(),U=a(y);{var A=g=>{var T=Te();b(()=>{w(T,"src",e(c).pictogramUrl),w(T,"alt",e(c).label)}),n(g,T)};N(U,g=>{e(c).pictogramUrl&&g(A)})}var h=i(U);s(y),b(()=>u(h,` ${e(c).label??""}`)),x("click",y,()=>Y(e(c).label)),n(d,y)}),n(v,t)};N(I,v=>{e(l).length===0?v(E):v(k,!1)})}s(S);var j=i(S,2),$=a(j),z=a($);s($);var q=i($,2),C=i(q,2),G=a(C,!0);s(C),s(j),s(B);var H=i(B,2);W(H,21,()=>ie,X,(v,t)=>{var r=Ne(),d=a(r),c=a(d,!0);s(d);var y=i(d,2),U=a(y,!0);s(y),s(r),b(A=>{M(r,`--q-color: ${e(t).color??""}`),u(c,e(t).emoji),u(U,A)},[()=>f()(`talk.${e(t).key}`)]),x("click",r,()=>ce(e(t).key)),n(v,r)}),s(H);var K=i(H,2);W(K,21,()=>e(F).cells,X,(v,t)=>{var r=De();let d;var c=a(r);{var y=h=>{var g=Oe();b(()=>{w(g,"src",e(t).pictogramUrl),w(g,"alt",e(t).label)}),n(h,g)};N(c,h=>{!e(t).isEmpty&&e(t).pictogramUrl&&h(y)})}var U=i(c,2);{var A=h=>{var g=Qe(),T=a(g,!0);s(g),b(()=>u(T,e(t).label)),n(h,g)};N(U,h=>{e(t).isEmpty||h(A)})}s(r),b(()=>{d=ae(r,1,"talk-cell svelte-1sgn4ed",null,d,{empty:e(t).isEmpty}),w(r,"aria-label",e(t).isEmpty?"":e(t).label),r.disabled=e(t).isEmpty}),x("click",r,()=>de(e(t))),n(v,r)}),s(K);var ee=i(K,2),V=a(ee),ke=a(V);s(V);var J=i(V,2),ye=a(J);s(J),s(ee),b((v,t,r,d,c)=>{w(S,"aria-label",v),$.disabled=e(l).length===0,u(z,`ðŸ”Š ${t??""}`),q.disabled=e(l).length===0,C.disabled=e(l).length===0,u(G,r),M(K,`--grid-size: ${e(F).gridSize??""}; --board-color: ${e(F).categoryColor??""}`),u(ke,`ðŸ“‚ ${d??""}`),u(ye,`${e(Q)?"ðŸ”²":"â›¶"} ${c??""}`)},[()=>f()("talk.sentence_strip"),()=>f()("talk.speak_all"),()=>f()("talk.clear"),()=>f()("talk.load_board"),()=>f()("talk.fullscreen")]),x("click",$,ue),x("click",q,_e),x("click",C,pe),x("click",V,()=>{m(Z,!0)}),x("click",J,ge),n(o,_)};N(be,o=>{e(Z)?o(me):e(F)&&o(fe,1)})}s(D),b(()=>R=ae(D,1,"talk-board svelte-1sgn4ed",null,R,{fullscreen:e(Q)})),n(re,D),Ee(),ne()}he(["click"]);export{Pe as component};
